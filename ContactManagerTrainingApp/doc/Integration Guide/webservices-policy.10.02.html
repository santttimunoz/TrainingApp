<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Account Web Services</title>
    <link rel="StyleSheet" href="css/webservices-policy.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>PolicyCenter Integration Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="p-webservices.html#3476833">Web Services</a> : <a class="WebWorks_Breadcrumb_Link" href="webservices-policy.10.01.html#3476833">Account and Policy Web Services</a> : Account Web Services</span></div>
    <hr align="left" />
    <blockquote>
      <h3 class="H1_-_Heading_1"><a name="3476833">Account Web Services</a></h3>
      <div class="B_-_Body"><a name="3476721">Use the </a><span class="cv_-_computer_voice">AccountAPI</span> web service to add documents to accounts, add notes to accounts, and find account public IDs. This web service is WS-I compliant.</div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="3411211">Adding Documents to an Account</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="3411213">Use the </a><span class="cv_-_computer_voice">addDocumentToAccount</span> method to add a document to an account. The method is relatively straightforward, taking an account’s public ID and a <span class="cv_-_computer_voice">Document</span> object and adds the document to the account. PolicyCenter returns the public ID of the newly added document. </div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="3411216">Adding Notes to an Account</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="3411218">Use the </a><span class="cv_-_computer_voice">addNoteToAccount</span> method to add a note to an account. The method is relatively straightforward, taking an account’s public ID and a <span class="cv_-_computer_voice">Note</span> object and adds the document to the account. PolicyCenter returns the public ID of the newly added note.</div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="3411221">Finding Accounts</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="3411222">There are two ways to find accounts, either by account number or by complex criteria.</a></div>
      <div class="B_-_Body"><a name="3411224">Use the </a><span class="cv_-_computer_voice">findAccountPublicIdByAccountNumber</span> method to find an account’s public ID given its account number. It returns the public ID of the account, or <span class="cv_-_computer_voice">null</span> if there is no such account. For example:</div>
      <div class="CS_-_Code_Single_Line"><a name="3411225">accountPublicID = accountAPI.findAccountPublicIdByAccountNumber("ABC-00001");</a></div>
      <div class="B_-_Body"><a name="3411226">In contrast, the </a><span class="cv_-_computer_voice">findAccounts</span> method is more robust and allows you to search for multiple accounts that fit certain criteria. For example, you could find accounts that match a certain account status or from a certain city. To use it, create a new <span class="cv_-_computer_voice">AccountSearchCriteria</span> object, fill in properties that match what you want to search for, and pass it to <span class="cv_-_computer_voice">findAccounts</span>.</div>
      <PRE class="CF_-_Code_First_Line"><a name="3411227">AccountSearchCriteria acs = new AccountSearchCriteria();</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3411228">acs.setCity("San Francisco");</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3411229">accounts = accountAPI.findAccounts(acs);</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3411230">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3411231">// get first result in the array...</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="3411232">accountPublicID = accounts[0];</a></PRE>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="3411233">Assigning Activities</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="3411234">You can remotely add and assign an activity for an account by using the </a><span class="cv_-_computer_voice">addAndAutoAssignActivityForAccount</span> method. PolicyCenter generates an activity based on the activity type and the activity pattern code and then auto-assigns the activity. </div>
      <div class="B_-_Body"><a name="3411235">It takes an account public ID </a><span class="cv_-_computer_voice">String,</span> an activity type (<span class="cv_-_computer_voice">ActivityType</span>), an activity pattern code (<span class="cv_-_computer_voice">String</span>), an activity pattern code (<span class="cv_-_computer_voice">String</span>), and an array of activity properties (<span class="cv_-_computer_voice">ActivityField[]</span>). This method returns nothing.</div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="3411237">Adding Contacts to an Account</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="3411238">You can remotely add a contact to an account by using the </a><span class="cv_-_computer_voice">addContactToAccount</span> method. It takes an account public ID (<span class="cv_-_computer_voice">String</span>) and an account contact (<span class="cv_-_computer_voice">AccountContact</span>).</div>
      <div class="B_-_Body"><a name="3411239">This method adds the given account contact to the account, and returns the public ID of the new </a><span class="cv_-_computer_voice">AccountContact</span>.</div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="3411241">Adding Location to an Account</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="3411242">You can remotely add a location to an account by using the </a><span class="cv_-_computer_voice">addLocationToAccount</span> method. It takes an account public ID (<span class="cv_-_computer_voice">String</span>), an account location (<span class="cv_-_computer_voice">AccountLocation</span>), and returns the public ID (<span class="cv_-_computer_voice">String</span>) of the new <span class="cv_-_computer_voice">AccountLocation</span> entity.</div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="3411244">Getting Account Numbers</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="3411245">You can remotely get the location to an account by using the </a><span class="cv_-_computer_voice">getAccountNumber</span> method. It takes an account public ID (<span class="cv_-_computer_voice">String</span>) and returns the account number (<span class="cv_-_computer_voice">String</span>).</div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="3411247">Checking for Active Policies</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="3411248">You can remotely check for active policies for the account by using the </a><span class="cv_-_computer_voice">hasActivePolicies</span> method. A policy is considered active if it has any <span class="cv_-_computer_voice">PolicyPeriod</span> entities that are issued and are effective at the current (real-world) date and time. </div>
      <div class="B_-_Body"><a name="3411249">The method takes an account public ID (</a><span class="cv_-_computer_voice">String</span>) and returns <span class="cv_-_computer_voice">true</span> if the account has active policies, and <span class="cv_-_computer_voice">false</span> otherwise.</div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="3411251">Inserting Accounts</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="3411252">You can remotely insert an account by using the </a><span class="cv_-_computer_voice">insertAccount</span> method. It takes an <span class="cv_-_computer_voice">ExternalAccount</span> entity, which is a parallel to the <span class="cv_-_computer_voice">Account</span> entity. The <span class="cv_-_computer_voice">ExternalAccount</span> entity contains a subset of the properties on the internal (non-SOAP) <span class="cv_-_computer_voice">Account</span> entity due to the necessity to simplify the entity for serialization across the SOAP protocol.</div>
      <div class="B_-_Body"><a name="3411253">After importing the external account into PolicyCenter as an </a><span class="cv_-_computer_voice">Account</span> entity, PolicyCenter returns the resulting public ID (<span class="cv_-_computer_voice">String</span>) of the new <span class="cv_-_computer_voice">Account</span> entity.</div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="3411255">Merging Accounts</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="3411256">You can remotely merge two accounts by using the </a><span class="cv_-_computer_voice">mergeAccounts</span> method. This task is available from this web service but is not provided in the PolicyCenter reference implementation in the user interface. You must decide which account is the merged account and which account to discard after the merge is complete.</div>
      <div class="B_-_Body"><a name="3411257">The method takes two account public IDs (</a><span class="cv_-_computer_voice">String</span> values). The first public ID represents the source account to be copied then discarded afterward. The second public ID represents the destination account to have the source destination account merged with it. The method returns nothing.</div>
      <div class="B_-_Body"><a name="3411258">You can customize the behavior after merging accounts, for example to specially handle data model extensions during the merge. For more details, see </a><a href="javascript:WWHClickedPopup('integration', 'plugins-policy.13.03.html#2377788', '');" title="Account Plugin Details">“Account Plugin Details”</a>.</div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="3411263">Transferring Policies</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="3411264">You can remotely transfer policies from one account to another by using the </a><span class="cv_-_computer_voice">transferPolicies</span> method. Provide a list of policy public IDs (an array of <span class="cv_-_computer_voice">String</span> values), the public ID of the source account, and the public ID of the destination account.</div>
      <div class="B_-_Body"><a name="3411265">You can customize the behavior after transferring accounts, for example to specially handle data model extensions during the merge. For more details, see </a><a href="javascript:WWHClickedPopup('integration', 'plugins-policy.13.03.html#2377788', '');" title="Account Plugin Details">“Account Plugin Details”</a>.</div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="3411270">Updating Account Contacts</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="3411271">You can remotely update the contact information for account contacts by using the </a><span class="cv_-_computer_voice">updateAccountContact</span> method. You provide an account public ID (<span class="cv_-_computer_voice">String</span>), a contact display name (<span class="cv_-_computer_voice">String</span>), and account contact information encapsulated in an <span class="cv_-_computer_voice">AccountContactInfo</span> entity. This is the <span class="cv_-_computer_voice">AccountContactInfo</span> entity and not the <span class="cv_-_computer_voice">AccountContact</span> entity. <span class="cv_-_computer_voice">AccountContactInfo</span> simply encapsulates an <span class="cv_-_computer_voice">Address</span> entity in its <span class="cv_-_computer_voice">PrimaryAddress</span> property. Populate an <span class="cv_-_computer_voice">Address</span> entity with the new information and set the <span class="cv_-_computer_voice">PrimaryAddress</span> property on the <span class="cv_-_computer_voice">AccountContactInfo</span> entity</div>
      <div class="B_-_Body"><a name="3411272">PolicyCenter looks at the specified account and finds the contact with the provided display name. PolicyCenter then updates the contact with the information in the </a><span class="cv_-_computer_voice">AccountContactInfo</span>.</div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>