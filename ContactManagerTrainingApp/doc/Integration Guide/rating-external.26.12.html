<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Fixed ID Keys Link a Cost Data Object to Another Object</title>
    <link rel="StyleSheet" href="css/rating-external.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>PolicyCenter Integration Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="p-forms.html#3066089">Policy-related Integrations</a> : <a class="WebWorks_Breadcrumb_Link" href="rating-external.26.01.html#3066089">Rating Integration</a> : <a class="WebWorks_Breadcrumb_Link" href="rating-external.26.08.html#3066089">Implementing Rating for a New Line of Business</a> : Fixed ID Keys Link a Cost Data Object to Another Object</span></div>
    <hr align="left" />
    <blockquote>
      <h4 class="H2B_-_Heading_2_Break"><a name="3066089">Fixed ID Keys Link a Cost Data Object to Another Object</a></h4>
      <div class="B_-_Body"><a name="3066090">Each cost data object contains cost-related properties defined by its corresponding cost entity. For example, the </a><span class="cv_-_computer_voice">PersonalAutoTaxCostData</span> class has equivalent properties for each cost-related property of the <span class="cv_-_computer_voice">PersonalAutoTaxCost</span> entity. </div>
      <div class="B_-_Body"><a name="3043109">For a list of cost-related properties that are common to all costs, see </a><a href="javascript:WWHClickedPopup('integration', 'rating-external.26.10.html#2983434', '');" title="Cost Core Properties">“Cost Core Properties”</a>. Additionally, a cost data object might contain: </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="3062053">Properties in common to all costs in the line. See </a><a href="javascript:WWHClickedPopup('integration', 'rating-external.26.11.html#3061657', '');" title="Adding Line-specific Cost Properties and Methods">“Adding Line-specific Cost Properties and Methods”</a>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="3062073">Properties unique to a specific cost entity</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="3062083">Generally speaking, cost properties that are in a cost object also exist also in the corresponding cost data class. For example, </a><span class="cv_-_computer_voice">PersonalAutoTaxCost</span> properties are on the <span class="cv_-_computer_voice">PersonalAutoTaxCostData</span> class. </div>
      <div class="B_-_Body"><a name="3043116">There is an important difference between costs and cost data objects you must be aware of. In normal entities, links to entities typically take the form of real foreign key links in memory to other entities. For example, the property </a><span class="cv_-_computer_voice">PACost.Coverage</span> links to a coverage.</div>
      <div class="B_-_Body"><a name="3062116">In contrast, </a><span class="cv_-_computer_voice">CostData</span> classes link to other objects using the <span class="e_-_emphasis">fixed ID</span> of any entity it references. The fixed ID is a unique identifier that identifies one object across effective time and also across multiple revisions. For more information about fixed IDs, see <a href="javascript:WWHClickedPopup('app', 'policyrevisions.52.03.html#2692659', '');" title="Structure of Revisioning Across Effective Time">“Structure of Revisioning Across Effective Time” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('app', 'policyrevisions.52.03.html#2692659', '');" title="Structure of Revisioning Across Effective Time">Application Guide</a></span>. </div>
      <div class="B_-_Body"><a name="3043123">In the database column itself, a fixed ID is just a numeric value. PolicyCenter encapsulates the fixed ID numeric value and the entity type for the object into a </a><span class="cv_-_computer_voice">Key</span> object. Think of the <span class="cv_-_computer_voice">Key</span> object as a simple container for foreign keys. In the context of rating, a fixed ID <span class="cv_-_computer_voice">Key</span> object is the most important usage of the <span class="cv_-_computer_voice">Key</span> class. </div>
      <div class="B_-_Body"><a name="3043144">This difference in handling links simplifies rating code, particularly with external rating engines. You can easily send entity links as fixed IDs and the entity type to an external system. With results from the external system, you can assemble cost data objects from that information. Let the default rating engine merge related cost data objects and handle the complex revisioning code to create and update the actual </a><span class="cv_-_computer_voice">Cost</span> entities.</div>
      <div class="B_-_Body"><a name="3043247">As you design your cost data object, add any line-specific properties that the equivalent cost object contains. Declare these as private properties whose names begin with an underscore. However, remember to declare properties that link to an entity instance as the data type </a><span class="cv_-_computer_voice">Key</span>. For example, the <span class="cv_-_computer_voice">PersonalVehicleCovCostData</span> class declares a link to the coverage as a private variable of type <span class="cv_-_computer_voice">Key</span>:</div>
      <PRE class="CM_-_Code_Middle_Line"><a name="3043268">class PersonalVehicleCovCostData extends PACostData&lt;PersonalVehicleCovCost&gt; {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line" style="font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span class="s_-_strong"><a name="3043269">  var _covID : Key</a></span></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3043300">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3043307">//...</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3043314">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3043260">}</a></PRE>
      <div class="N_-_Note">
        <span class="n_-_note">Note: </span><a name="3043327">In Gosu, class variables without an access modifier like </a><span class="cv_-_computer_voice">private</span> or <span class="cv_-_computer_voice">public</span> default to <span class="cv_-_computer_voice">private</span>.</div>
      <div class="B_-_Body"><a name="3043388">To get the fixed ID </a><span class="cv_-_computer_voice">Key</span> object from an entity, simply access its <span class="cv_-_computer_voice">FixedID</span> property. For example:</div>
      <div class="CS_-_Code_Single_Line"><a name="3043407">var fixedIDKey = myPersonalVehicleCov.FixedID</a></div>
      <div class="B_-_Body"><a name="3066120">You can convert a fixed ID </a><span class="cv_-_computer_voice">Key</span> object to a standard direct link using the cost object method <span class="cv_-_computer_voice">setFieldValue</span>. Typical code uses this method to implement the cost data object method <span class="cv_-_computer_voice">setSpecificFieldsOnCost</span>, which copies line-specific (non-core) properties to the cost entity instance. See <a href="javascript:WWHClickedPopup('integration', 'rating-external.26.13.html#3037061', '');" title="Cost Data Object Methods and Constructors to Override">“Copying Custom Properties from Cost Data Objects to Cost Entity Instances”</a> for important related discussion.</div>
      <div class="NI_-_Note_Important">
        <span class="n_-_note">IMPORTANT   </span><a name="3071552">A critical difference between cost entity instances and cost data objects is how they treat links to other objects. Cost data objects store a fixed ID </a><span class="cv_-_computer_voice">Key</span>, which encapsulates a numeric fixed ID value and the entity type of the object. Other Gosu code in PolicyCenter use a <span class="cv_-_computer_voice">Key</span> object to track other types of foreign keys, but in rating-related code a <span class="cv_-_computer_voice">Key</span> typically contains a fixed ID. See <a href="javascript:WWHClickedPopup('app', 'policyrevisions.52.03.html#2692659', '');" title="Structure of Revisioning Across Effective Time">“Structure of Revisioning Across Effective Time” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('app', 'policyrevisions.52.03.html#2692659', '');" title="Structure of Revisioning Across Effective Time">Application Guide</a></span> for more revisioning details.</div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>