<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Importing a Policy for Renewal</title>
    <link rel="StyleSheet" href="css/webservices-policy.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>PolicyCenter Integration Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="p-webservices.html#3519758">Web Services</a> : <a class="WebWorks_Breadcrumb_Link" href="webservices-policy.10.01.html#3519758">Account and Policy Web Services</a> : <a class="WebWorks_Breadcrumb_Link" href="webservices-policy.10.14.html#3519758">Policy Renewal Web Services</a> : Importing a Policy for Renewal</span></div>
    <hr align="left" />
    <blockquote>
      <h4 class="H2B_-_Heading_2_Break"><a name="3519758">Importing a Policy for Renewal</a></h4>
      <div class="B_-_Body"><a name="3519759">The policy renewal web services provides the </a><span class="cv_-_computer_voice">startConversionRenewal</span> method which imports a policy renewal from a hypothetical external system. The method creates a new policy in an existing account, and creates a policy period on the policy. The method starts a renewal based on this policy period. There is no gap in coverage between the renewal and its based-on policy period.</div>
      <div class="B_-_Body"><a name="3519760">In the default configuration, the renewal data from the external system is in XML format. You can modify the </a><span class="cv_-_computer_voice">startConversionRenewal</span> method to handle your input data. You can customize the XML format to match your implementation of policy periods and subobjects.</div>
      <div class="N_-_Note">
        <span class="n_-_note">Note: </span><a name="3519761">The included web service Gosu code is intended as an example and a starting point for your own conversion code. You must modify the example conversion code for your business use. </a></div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="3519762">Considerations when Importing Policy Renewals</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="3519763">Be aware of the following considerations when importing policy renewals using the </a><span class="cv_-_computer_voice">startConversionRenewal</span> method:</div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="3519764">The policy must not already exist in PolicyCenter.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="3519765">In each request, you can pass only one policy period in the </a><span class="cv_-_computer_voice">policyPeriodData</span> argument. Do not attempt to modify the example implementation of the <span class="cv_-_computer_voice">startConversionRenewal</span> method to support multiple policy renewals in a single request. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="3519766">The account for the policy must exist already in PolicyCenter. Any account creation or updates must be done separately, before calling this method. For methods to insert and update accounts from an external system, see </a><a href="javascript:WWHClickedPopup('integration', 'webservices-policy.10.02.html#3476833', '');" title="Account Web Services">“Account Web Services”</a>. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="3519771">Reference data must already exist in PolicyCenter. Reference data includes entities such as </a><span class="cv_-_computer_voice">ProducerCode</span> and <span class="cv_-_computer_voice">UWCompany</span>. Reference these entities by their public ID <span class="cv_-_computer_voice">String</span> values.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="3519772">The </a><span class="cv_-_computer_voice">startConversionRenewal</span> method does not support <span class="cv_-_computer_voice">Note</span> or <span class="cv_-_computer_voice">Document</span> objects. Normally, these objects do not directly attach to a <span class="cv_-_computer_voice">PolicyPeriod</span> or <span class="cv_-_computer_voice">Policy</span>. Instead, notes and documents have foreign keys that point back to their owners. Another web service provides methods exist for adding notes and documents to <span class="cv_-_computer_voice">PolicyPeriod</span> objects. See <a href="javascript:WWHClickedPopup('integration', 'webservices-policy.10.10.html#3507466', '');" title="Policy Period Web Services">“Policy Period Web Services”</a>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="3519776">Create a Policy Period and Start the Renewal</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="3519777">The </a><span class="cv_-_computer_voice">startConversionRenewal</span> method creates a new policy on an existing account, and then creates a policy period associated with that policy. The method creates and starts a renewal based on the policy period.</div>
      <div class="B_-_Body"><a name="3519778">The </a><span class="cv_-_computer_voice">startConversionRenewal</span> method takes the following parameters:</div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="cv_-_computer_voice"><a name="3519780">accountNumber</a></span> – The account number, as a <span class="cv_-_computer_voice">String</span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="cv_-_computer_voice"><a name="3519781">productCode</a></span> – The code of the product, as a <span class="cv_-_computer_voice">String</span>. For example, <span class="cv_-_computer_voice">PersonalAuto</span> or <span class="cv_-_computer_voice">WorkersComp</span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="cv_-_computer_voice"><a name="3519782">producerCodeId</a></span> – The public ID, as a <span class="cv_-_computer_voice">String</span>, of the producer code.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="cv_-_computer_voice"><a name="3519783">policyNumber</a></span> – The policy number, as a <span class="cv_-_computer_voice">String</span>, for the policy periods associated with this renewal. If <span class="cv_-_computer_voice">null</span>, generate a new, unique <span class="cv_-_computer_voice">policyNumber</span>. Raise an underwriter issue if not unique.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="cv_-_computer_voice"><a name="3519784">policyPeriodData</a></span> – The data, as a <span class="cv_-_computer_voice">String</span>, to populate the new policy period.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="cv_-_computer_voice"><a name="3519785">changesToApply</a></span> – Changes, as a <span class="cv_-_computer_voice">String</span>, to make in the renewal period that differ from the legacy period. This parameter is not used in the default configuration.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="cv_-_computer_voice"><a name="3519786">parseOptions</a></span> – The options, as a <span class="cv_-_computer_voice">String</span>, passed to the XML parser to parse the <span class="cv_-_computer_voice">policyPeriodData</span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="cv_-_computer_voice"><a name="3519787">basedOnEffectiveDate</a></span> – The effective date, as a <span class="cv_-_computer_voice">String</span>, for the based-on policy period.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="cv_-_computer_voice"><a name="3519788">basedOnExpirationDate</a></span> – The expiration date, as a <span class="cv_-_computer_voice">String</span>, for the based-on policy period. This is also is the effective date of the new renewal period.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="3519789">This method returns the job number of the newly started renewal.</a></div>
      <div class="B_-_Body"><a name="3519790">The </a><span class="cv_-_computer_voice">policyPeriodData</span> parameter is a <span class="cv_-_computer_voice">String</span> representation of a policy renewal from the external system. This parameter includes data for creating the policy, policy period, and renewal. In the default implementation, the <span class="cv_-_computer_voice">policyPeriodData</span> must be in XML format as defined by the <span class="cv_-_computer_voice">PolicyPeriodModel</span> Guidewire XML (GX) model format. In Studio, the model is in the <span class="cv_-_computer_voice">gw.webservice.pc.pc700.gxmodel</span> package.</div>
      <div class="B_-_Body"><a name="3575071">In the default implementation, the </a><span class="cv_-_computer_voice">startConversionRenewal</span> method parses the <span class="cv_-_computer_voice">policyPeriodData</span> parameter as XML using a Guidewire XML model (GX model) definition. The GX Model is available at the location <span class="cv_-_computer_voice">gw.webservice.pc.pc800.gxmodel.policyperiodmodel</span>. Then the code calls <span class="cv_-_computer_voice">populatePolicyPeriod</span> enhancement method on the XML object. The enhancement method is implemented in <span class="cv_-_computer_voice">gw.webservice.pc.pc800.gxmodel.PolicyPeriodModelEnhancement</span>. If you want to add line-specific populating or validation code, modify the <span class="cv_-_computer_voice">populatePolicyPeriod</span> enhancement method. If you need to use a different XSD or GX model, modify the <span class="cv_-_computer_voice">SubmissionAPI</span> web service implementation class directly.</div>
      <div class="B_-_Body"><a name="3575074">The </a><span class="cv_-_computer_voice">startConversionRenewal</span> method calls the <span class="cv_-_computer_voice">account.createConversionRenewalWithBasedOn</span> method to create the policy and based-on policy period, and to start the renewal. The <span class="cv_-_computer_voice">createConversionRenewalWithBasedOn</span> method commits the policy and based-on policy period to the database. In a separate bundle, the <span class="cv_-_computer_voice">createConversionRenewalWithBasedOn</span> method commits the renewal to the database. The renewal is in draft mode and is not bound.</div>
      <div class="B_-_Body"><a name="3519793">The </a><span class="cv_-_computer_voice">startConversionRenewal</span> method returns the renewal job number in a <span class="cv_-_computer_voice">String</span>. </div>
      <div class="B_-_Body"><a name="3519794">You can customize the </a><span class="cv_-_computer_voice">startConversionRenewal</span> method to handle additional processing logic for policy renewals initiated from your external system.</div>
      <h6 class="HS_-_Head_Sub"><a name="3519795">See also</a></h6>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('gosu', 'xml.21.20.html#1864864', '');" title="The Guidewire XML (GX) Modeler" name="3519803">“The Guidewire XML (GX) Modeler” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('gosu', 'xml.21.20.html#1864864', '');" title="The Guidewire XML (GX) Modeler">Gosu Reference Guide</a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="3519804">About the New Policy</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="3519805">The </a><span class="cv_-_computer_voice">startConversionRenewal</span> method creates a new policy and commits the new policy to the database. </div>
      <div class="B_-_Body"><a name="3519806">The policy graph includes the following information:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="3519807">A new </a><span class="cv_-_computer_voice">Policy</span> that links to the target <span class="cv_-_computer_voice">Account</span> with the policy number specified. Creates an underwriting issue if the policy number is already in use.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="3519808">The policy’s </a><span class="cv_-_computer_voice">Product</span> property set to the <span class="cv_-_computer_voice">productCode</span> parameter of the method. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="3519809">The policy’s loss history type (</a><span class="cv_-_computer_voice">LossHistoryType</span>) field defaults to the value that represents no loss history (<span class="cv_-_computer_voice">NOL</span>).</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="3519810">To create the policy, the </a><span class="cv_-_computer_voice">startConversionRenewal</span> method creates by calling the <span class="cv_-_computer_voice">account.createConversionRenewalWithBasedOn</span> method.</div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="3519813">About the Based-on Policy Period</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="3519814">This topic describes the based-on policy period that the </a><span class="cv_-_computer_voice">startConversionRenewal</span> method creates and commits to the database. </div>
      <div class="B_-_Body"><a name="3519815">In the new policy, PolicyCenter creates exactly one new based-on policy period entity instance:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="3519816">The </a><span class="cv_-_computer_voice">createConversionRenewalWithBasedOn</span> method sets the policy period’s primary named insured and primary location from the target account’s account holder and primary location respectively. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="3519817">The method sets the policy period’s period start date (</a><span class="cv_-_computer_voice">PeriodStart</span>) and the edit effective date (<span class="cv_-_computer_voice">EditEffectiveDate</span>) to the <span class="cv_-_computer_voice">basedOnEffectiveDate</span> parameter for this method. If the <span class="cv_-_computer_voice">basedOnEffectiveDate</span> parameter is <span class="cv_-_computer_voice">null</span>, then the method throws an exception.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="3519818">The method sets the period end date (</a><span class="cv_-_computer_voice">PeriodEnd</span> property) of the policy period to the <span class="cv_-_computer_voice">basedOnPeriodExpirationDate</span> parameter. If the <span class="cv_-_computer_voice">basedOnPeriodExpirationDate</span> is <span class="cv_-_computer_voice">null</span>, then the method throws an exception.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="3519819">The </a><span class="cv_-_computer_voice">basedOnEffectiveDate</span> or <span class="cv_-_computer_voice">basedOnPeriodExpirationDate</span> are passed as <span class="cv_-_computer_voice">String</span> objects. If either value cannot be parsed as a valid date, then the method throws an exception.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="3519821">The </a><span class="cv_-_computer_voice">createConversionRenewalWithBasedOn</span> method uses the effective time plugin (<span class="cv_-_computer_voice">IEffectiveTimePlugin</span>) to set the time component of the policy period’s <span class="cv_-_computer_voice">PeriodStart</span> and <span class="cv_-_computer_voice">PeriodEnd</span> properties. The <span class="cv_-_computer_voice">createConversionRenewalWithBasedOn</span> method gets the time from the <span class="cv_-_computer_voice">IEffectiveTimePlugin</span> plugin by using the <span class="cv_-_computer_voice">getConversionRenewalEffectiveTime</span> and <span class="cv_-_computer_voice">getConversionRenewalExpirationTime</span> methods. Then the <span class="cv_-_computer_voice">createConversionRenewalWithBasedOn</span> method sets the time to these values. The date component of the <span class="cv_-_computer_voice">datetime</span> value from effective time plugin is ignored. In the default configuration, the <span class="cv_-_computer_voice">EffectiveTimePlugin</span> plugin implements this interface. In the <span class="cv_-_computer_voice">EffectiveTimePlugin</span>, the <span class="cv_-_computer_voice">createConversionRenewalWithBasedOn</span> method expects the caller to provide exact <span class="cv_-_computer_voice">datetime</span> values or uses the <span class="cv_-_computer_voice">DEFAULT_TIME_STRING</span> time value from the effective time plugin. For more information, see <a href="javascript:WWHClickedPopup('integration', 'plugins-policy.13.11.html#2381451', '');" title="Effective Time Plugin">“Effective Time Plugin”</a>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="3519825">The based-on policy period’s </a><span class="cv_-_computer_voice">TermType</span> is <span class="cv_-_computer_voice">Other</span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="3519826">The based-on policy period has a </a><span class="cv_-_computer_voice">PolicyPeriodStatus</span> set to <span class="cv_-_computer_voice">LegacyConversion</span>. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="3519827">The method creates appropriate </a><span class="cv_-_computer_voice">PolicyLine</span> objects on the <span class="cv_-_computer_voice">PolicyPeriod</span>, based on the <span class="cv_-_computer_voice">Product</span> definition. Each <span class="cv_-_computer_voice">PolicyLine</span> has its <span class="cv_-_computer_voice">BaseState</span> property set to the state of the primary named insured’s primary address. The <span class="cv_-_computer_voice">initialize</span> method in the matching <span class="cv_-_computer_voice">PolicyLineMethods</span> Gosu class runs. You can modify the base state with additional policy line logic. Depending on the line of business, the <span class="cv_-_computer_voice">initialize</span> method can sync modifiers, create coverages, to initialize line-specific auto-number sequences, or other actions.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="3519828">The method sets the </a><span class="cv_-_computer_voice">LocationAutoNumberSeq</span> property on the policy period to a new <span class="cv_-_computer_voice">AutoNumberSequence</span> entity instance. Because of this, location auto-numbering (including the primary location mentioned above) begins at number one.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="3519829">The method creates new and empty </a><span class="cv_-_computer_voice">PolicyTerm</span> and <span class="cv_-_computer_voice">EffectiveDatedFields</span> entity instances that link to the policy period.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="3519830">The </a><span class="cv_-_computer_voice">startConversionRenewal</span> method creates the based-on policy period by calling the <span class="cv_-_computer_voice">account.createConversionRenewalWithBasedOn</span> method. The <span class="cv_-_computer_voice">createConversionRenewalWithBasedOn</span> method commits the policy period to the database.</div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="3519831">About the New Renewal</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="3519832">The </a><span class="cv_-_computer_voice">startConversionRenewal</span> method creates a renewal job and commits the job to the database. The renewal is in draft mode and is not bound.</div>
      <div class="B_-_Body"><a name="3519833">The renewal has the following information:</a></div>
      <div class="LS_-_List_Start_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LS_-_List_Start_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	1.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LS_-_List_Start_inner"><a name="3519834">The renewal’s </a><span class="cv_-_computer_voice">CloseDate</span> property is <span class="cv_-_computer_voice">null</span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	2.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="3519836">The new renewal job has exactly one </a><span class="cv_-_computer_voice">UserRoleAssignment</span> object. On the <span class="cv_-_computer_voice">UserRoleAssignment</span> object, the <span class="cv_-_computer_voice">AssignedUser</span> property is the current user. The <span class="cv_-_computer_voice">Role</span> property has the value <span class="cv_-_computer_voice">Creator</span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	3.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="3519837">The </a><span class="cv_-_computer_voice">createConversionRenewalWithBasedOn</span> method generates a job number for the renewal.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	4.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="3519838">The </a><span class="cv_-_computer_voice">createConversionRenewalWithBasedOn</span> method calls the <span class="cv_-_computer_voice">start</span> method in the renewal process (<span class="cv_-_computer_voice">RenewalProcess</span>).</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="3519839">The </a><span class="cv_-_computer_voice">startConversionRenewal</span> method creates the renewal job by calling the <span class="cv_-_computer_voice">account.createConversionRenewalWithBasedOn</span> method. </div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>