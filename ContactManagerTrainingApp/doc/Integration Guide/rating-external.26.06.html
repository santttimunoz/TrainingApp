<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Common Questions About the Default Rating Engine</title>
    <link rel="StyleSheet" href="css/rating-external.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>PolicyCenter Integration Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="p-forms.html#3093981">Policy-related Integrations</a> : <a class="WebWorks_Breadcrumb_Link" href="rating-external.26.01.html#3093981">Rating Integration</a> : <a class="WebWorks_Breadcrumb_Link" href="rating-external.26.02.html#3093981">The Rating Framework</a> : Common Questions About the Default Rating Engine</span></div>
    <hr align="left" />
    <blockquote>
      <h4 class="H2B_-_Heading_2_Break"><a name="3093981">Common Questions About the Default Rating Engine</a></h4>
      <div class="B_-_Body"><a name="3046595">The following are common rating strategy questions:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('integration', 'rating-external.26.06.html#3069907', '');" title="Common Questions About the Default Rating Engine" name="3069945">What are Rate-scalable and Basis-scalable Costs?</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('integration', 'rating-external.26.06.html#3046587', '');" title="Common Questions About the Default Rating Engine" name="3069960">Can We Always Rate Only From the Current Slice Forward?</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('integration', 'rating-external.26.06.html#3017102', '');" title="Common Questions About the Default Rating Engine" name="3046642">Can We Rate Only If Something Important Changed?</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('integration', 'rating-external.26.06.html#3046692', '');" title="Common Questions About the Default Rating Engine" name="3067119">Can We Rate the Whole Policy for Each Slice, Rather Than One Line at a Time?</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('integration', 'rating-external.26.06.html#3047966', '');" title="Common Questions About the Default Rating Engine" name="3067153">Is Proration Always Linear?</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('integration', 'rating-external.26.06.html#3062903', '');" title="Common Questions About the Default Rating Engine" name="3067168">How Does Proration Handle Minor Differences in Term Length?</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="3069907">What are Rate-scalable and Basis-scalable Costs?</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="3069908">A rating engine generates cost information that must include coverage-related charges, discounts, taxes, and fees. Certain operations work slightly differently when dealing with costs that are </a><span class="e_-_emphasis">rate-scalable</span> versus <span class="e_-_emphasis">basis-scalable</span> costs.</div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="3069909">Most insurable objects are </a><span class="e_-_emphasis">rate-scalable</span>. For rate-scalable objects, the rating engine looks up a <span class="e_-_emphasis">rate</span> based on a variety of factors such as the type of vehicle, the coverage terms chosen, the date and state. Often this calculation uses data looked up from a table. Next, a rating engine modifies that rate based on a variety of other factors (vehicle cost, driver age, and so on) to make a final adjusted rate. That final adjusted rate is generally the cost for the entire rated term. The final cost is that amount <span class="e_-_emphasis">prorated</span> over the portion of the policy for which the cost is appropriate.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="3145308">Other insurable objects are </a><span class="e_-_emphasis">basis-scalable</span>. A basis-scalable object means that the ratable basis for the object already considers time in some way. For example, it might capture the total payroll between two dates. Those costs are rated with a calculated adjusted rate multiplied by the basis in question, just like rate-scalable costs. However, PolicyCenter must not prorate basis-scalable costs based on time. This is because the basis amount already takes that time component into consideration. Notable basis-scalable objects include workers’ compensation exposures and some general liability exposures.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="3069982">Each cost data subclass indicates whether to merge that cost data subclass as </a><span class="e_-_emphasis">rate-scalable</span> or <span class="e_-_emphasis">basis-scalable</span>. For more information, see <a href="javascript:WWHClickedPopup('integration', 'rating-external.26.13.html#3037090', '');" title="Cost Data Object Methods and Constructors to Override">“Specifying Whether to Merge a Cost as Basis Scalable”</a><span class="e_-_emphasis">.</span></div>
      <h6 class="HS_-_Head_Sub"><a name="3069915">See also</a></h6>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="3069916">For more information about the cost terms </a><span class="e_-_emphasis">base&nbsp;rate</span>, <span class="e_-_emphasis">adjusted&nbsp;rate</span>, <span class="e_-_emphasis">term&nbsp;amount</span>, <span class="e_-_emphasis">amount</span>, and <span class="e_-_emphasis">number&nbsp;of&nbsp;rated&nbsp;days</span>, see the table in <a href="javascript:WWHClickedPopup('integration', 'rating-external.26.10.html#2983434', '');" title="Cost Core Properties">“Cost Core Properties”</a>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="3069923">For more information about proration calculations, see </a><a href="javascript:WWHClickedPopup('integration', 'rating-external.26.06.html#3047966', '');" title="Common Questions About the Default Rating Engine">“Is Proration Always Linear?”</a>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="3046587">Can We Always Rate Only From the Current Slice Forward?</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="3017735">Some customers ask why they cannot always rate only from the date of change and later slices in effective time. </a></div>
      <div class="B_-_Body"><a name="3046714">The rating engine must know that if a policy change happens as of a given date, then no changes can happen that affect pricing prior to that date. For most lines of business, the PolicyCenter user interface enforces this requirement. </a></div>
      <div class="B_-_Body"><a name="3031231">However, worker’s compensation and general liability policy changes allow changes that take effect at earlier effective dates. Workers’ compensation rating is very different from standard lines, and heavily uses window mode costs. This is true about many fields in worker’s compensation. Similarly, for general liability, these types of changes are possible for the exposure (location / class code) rows. </a></div>
      <div class="B_-_Body"><a name="3067203">If backdated policy changes are possible, the only safe way to rate the period is to re-rate the entire period. In other words, if anything could have changed that affects the earlier part of the period (or the whole period), you cannot simply rate from the current date slice forward. </a></div>
      <div class="B_-_Body"><a name="3067204">If backdated policy changes are impossible, it is safe to rate only from the current slice date. For normal in-sequence changes, this means just considering one slice date.</a></div>
      <div class="B_-_Body"><a name="3051852">For out-of-sequence changes, PolicyCenter requires the rating engine to rate </a><span class="e_-_emphasis">two or more slices</span>. See <a href="javascript:WWHClickedPopup('app', 'policyrevisions.52.04.html#2708136', '');" title="Out-of-sequence Jobs">“Out-of-sequence Jobs” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('app', 'policyrevisions.52.04.html#2708136', '');" title="Out-of-sequence Jobs">Application Guide</a></span>.</div>
      <div class="B_-_Body"><a name="3051909">Each line-specific rating engine can indicate that the current job can rate only from the current slice forward or whether it must re-rate the whole period. This flag is dynamic, and can you can override this calculation to use custom rules for existing lines of business or for new lines of business. See </a><a href="javascript:WWHClickedPopup('integration', 'rating-external.26.16.html#3056028', '');" title="Writing Your Own Line-specific Rating Engine Subclass">“Decide Whether to Rate Only From Change Date Forward”</a> for details of this flag and the default behavior.</div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="3017102">Can We Rate Only If Something Important Changed?</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="3017106">Some customers ask whether they need to re-rate everything or rate only the information that changed.</a></div>
      <div class="B_-_Body"><a name="3145330">Deciding whether a change to something might theoretically impact a piece of premium associated with another object requires knowing all inter-dependencies in the rating algorithm.</a></div>
      <div class="B_-_Body"><a name="3145331">For example, does the rating engine need to recalculate the premium for a vehicle-level coverage:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="3046734">If the coverage changes? </a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="3046745">If the vehicle changes? </a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="3046752">If a vehicle modifier (such as an alarm system) changes? </a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="3046762">If the garage location changes? </a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="3046769">If some specific information about the driver changes? (some properties affect rating, some might not)</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="3070693">If a multi-policy discount applies? </a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="3070694">Many things that might at first glance seem distantly connected to the coverage might in fact cause the premium to change in real-world implementations.</a></div>
      <div class="B_-_Body"><a name="3046859">Thus, it is much safer and easier to recalculate and check if anything changed. It is much better than trying to determine all possible changes that might theoretically impact a rate, and then checking </a><span class="e_-_emphasis">only </span>for those changes. </div>
      <div class="B_-_Body"><a name="3046864">It is a painful maintenance challenge to ensure you record all potential dependencies as people continually change the rating algorithm over time. Mistakes due to lack of maintenance synchronization are extremely likely.</a></div>
      <div class="B_-_Body"><a name="3017498">This is why PolicyCenter by default asks the rating engine to re-rate everything rather than selectively re-rating only changed data.</a></div>
      <div class="NW_-_Note_Warning">
        <span class="w_-_warning">WARNING  </span><a name="3017524">It is far safer to re-rate everything than try to maintain a list of dependencies that permit selective re-rating.</a></div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="3046692">Can We Rate the Whole Policy for Each Slice, Rather Than One Line at a Time?</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="3046937">Some customers ask if when rating a multi-line policy, they can rate one slice at a time across all lines rather than rating each line independently. The reason to do this might be because the slice calculation might include discounts that depend on premiums across the entire policy. The default rating approach does not automatically support this approach.</a></div>
      <div class="B_-_Body"><a name="3047007">With additional customization, you could do this if necessary but requires additional work:</a></div>
      <div class="LS_-_List_Start_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LS_-_List_Start_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	1.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LS_-_List_Start_inner"><a name="3047019">Create a new implementation of the rating plugin based on the default rating plugin, or customize the existing rating plugin. The built-in implementation of the rating plugin is the Gosu class </a><span class="cv_-_computer_voice">gw.plugin.policyperiod.impl.SysTableRatingPlugin</span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	2.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="3047048">Modify the plugin to rearrange the logic of how to calculate slices and call out to the rating engines for each line. In the </a><span class="cv_-_computer_voice">ratePeriodImpl</span> method of the <span class="cv_-_computer_voice">SysTableRatingPlugin</span> class, find the Gosu code:</div>
            </td>
          </tr>
        </table>
      </div>
      <PRE class="CF_-_Code_First_Line"><a name="3047110">for ( line in period.RepresentativePolicyLines ) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3047111">&nbsp;&nbsp;var ratingEngine = createRatingEngine(line)</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3047112">&nbsp;&nbsp;ratingEngine.rate()</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="3047113">}</a></PRE>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	3.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="3047239">Modify this code to instead iterate across slices instead of by rating engine (iterating across policy lines). The best thing is to review the code for the base class for rating engines, which is the class </a><span class="cv_-_computer_voice">gw.rating.AbstractRatingEngine</span>. Look at the method implementations for the method <span class="cv_-_computer_voice">rateOnly</span> and the private method <span class="cv_-_computer_voice">rateSlices</span>. You must copy that code or similar code to the rating plugin so that it iterates across each slices. For each slice, iterate across the rating engines for each line of business just like the code that you found in <a href="javascript:WWHClickedPopup('integration', 'rating-external.26.06.html#3047048', '');" title="Common Questions About the Default Rating Engine">step 2</a>. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	4.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="3047326">Additionally, make whatever special rating changes you require, such as the previously-mentioned example of discounts that depend on premiums across the entire policy.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="3047311">This approach could allow you to get the advantages of using cost data objects and the </a><span class="cv_-_computer_voice">AbstractRatingEngine</span> helper methods, but implement looping the way you want. </div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="3047966">Is Proration Always Linear?</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="3047967">Each rating line determines the cost for each slice as if it were the cost for the entire term, even if it is only part of the term. For rate-scalable costs, which is the typical type of cost, the rating engine </a><span class="e_-_emphasis">linearly prorates</span> costs based on the percentage of the term that each cost is effective. In other words, PolicyCenter gets the term amount (<span class="cv_-_computer_voice">Cost.TermAmount</span>) then calculates the actual cost for this slice. This calculation uses the fraction of the days in the term this cost in this slice is active. </div>
      <div class="B_-_Body"><a name="3063066">To get the length of time in the term, the default rating engine gets the </a><span class="cv_-_computer_voice">NumDaysInRatedTerm</span> property from the cost. See <a href="javascript:WWHClickedPopup('integration', 'rating-external.26.10.html#2983434', '');" title="Cost Core Properties">“Cost Core Properties”</a> for more about this and other properties. </div>
      <div class="B_-_Body"><a name="3047968">The rating engine calculates the amount (</a><span class="cv_-_computer_voice">Cost.StandardAmount</span>) with the following pseudo-code that uses a fictional function <span class="cv_-_computer_voice">calcNumDays</span> that calculates the number of days between two dates:</div>
      <PRE class="CF_-_Code_First_Line"><a name="3047969">var daysEffective = calcNumDays(Cost.ExpirationDate, Cost.EffectiveDate)</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="3047971">Cost.StandardAmount = Cost.TermAmount * (Cost.NumDaysInRatedTerm / daysEffective)</a></PRE>
      <div class="N_-_Note">
        <span class="n_-_note">Note: </span><a name="3047989">For more about these cost properties such as </a><span style="font-family: &quot;Lucida Sans Typewriter&quot;; font-size: 7.0pt">Cost.TermAmount</span> and <span style="font-family: &quot;Lucida Sans Typewriter&quot;; font-size: 7.0pt">Cost.NumDaysInRatedTerm</span>, see <span style="font-family: &quot;Lucida Sans Typewriter&quot;; font-size: 7.0pt"><a href="javascript:WWHClickedPopup('integration', 'rating-external.26.10.html#2983434', '');" title="Cost Core Properties">“Cost Core Properties”</a></span></div>
      <div class="B_-_Body"><a name="3047972">For most customers in most types of costs, this approach works for rate-scalable costs.</a></div>
      <div class="B_-_Body"><a name="3047973">You might have a rare case in which you want non-linear proration. For example, a snow plow might have higher cost during winter months. You could represent the winter months as one type of coverage and the non-winter months with a different and lower coverage. However, if you want to represent the coverage as a single type of coverage cost but with non-linear proration, this requires changes to the default rating engine. </a></div>
      <div class="B_-_Body"><a name="3047974">If you want to change this logic, refer to the class </a><span class="cv_-_computer_voice">gw.plugin.policyperiod.impl.SysTableRatingPlugin</span> in the static inner class <span class="cv_-_computer_voice">ForGivenRoundingLevel</span> in the method called <span class="cv_-_computer_voice">prorateFromStart</span>.</div>
      <div class="B_-_Body"><a name="3070833">There are two different places where the default rating engine assumes linear proration:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="3070844">In the proration step within the main merge-and-prorate part of the algorithm. For more details, see </a><a href="javascript:WWHClickedPopup('integration', 'rating-external.26.05.html#3002871', '');" title="Where to Override the Default Rating Engine?">“Where to Override the Default Rating Engine?”</a>. You can workaround this by skipping proration by explicitly setting the standard amount (<span class="cv_-_computer_voice">CostData.StandardAmount</span>) and the actual amount (<span class="cv_-_computer_voice">CostData.ActualAmount</span>) properties on a cost data object.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="3071138">If you permit a line of business to rate only from the effective date forward, the default rating engine assumes linear proration in some of that code. The default rating engine constructs cost data objects for costs that are earlier in effective time than the job effective date. The default rating engine assumes that it can linearly prorate costs that span the job effective date.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <h6 class="HS_-_Head_Sub"><a name="3063003">See also</a></h6>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="3144554">For a related discussion regarding the number of days in the term calculation, see </a><a href="javascript:WWHClickedPopup('integration', 'rating-external.26.06.html#3062903', '');" title="Common Questions About the Default Rating Engine">“How Does Proration Handle Minor Differences in Term Length?”</a>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="3062903">How Does Proration Handle Minor Differences in Term Length?</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="3062935">As discussed in </a><a href="javascript:WWHClickedPopup('integration', 'rating-external.26.06.html#3047966', '');" title="Common Questions About the Default Rating Engine">“Is Proration Always Linear?”</a>, the default rating engine first calculates a term amount (<span class="cv_-_computer_voice">CostData.TermAmount</span>) and then prorates that value. To do this task, the code must know that the term is a certain amount of time. </div>
      <div class="B_-_Body"><a name="3062996">To get the length of time in the term, the default rating engine gets the </a><span class="cv_-_computer_voice">NumDaysInRatedTerm</span> property from the cost. See <a href="javascript:WWHClickedPopup('integration', 'rating-external.26.10.html#2983434', '');" title="Cost Core Properties">“Cost Core Properties”</a> for more about this and other properties. </div>
      <div class="B_-_Body"><a name="3063048">In the default rating engine, the </a><span class="cv_-_computer_voice">NumDaysInRatedTerm</span> contains the number of days in a standard period from the period’s effective date. Depending on the effective date, the number of days in a standard period can vary:</div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="3063139">A standard period of 6 months might be 182 days, 180 days, and so on.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="3063150">A standard period of 1 year might be 365 or 366 depending on the leap year.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="3063163">This subtle difference has a couple implications that may not be obvious:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="3062937">The default rating engine charges the same rate even if the length of the standard period changes in a minor way. For example, 181 days compared to 184 days in a 6 month period. This has the advantage that to the insured, they understand that their rate did not change from period to period. However, some people do not expect this behavior.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="3062938">The default rating engine sets </a><span class="cv_-_computer_voice">TermAmount</span> based on a standard period length not the number of actual days in the term. Because of this, you can identify a non-standard period length even at submission or renewal time. For example, if the standard term is 365 days, a shortened period for 244 days will show 67% proration for costs that cover the entire period. The proration percentage is a percentage of the standard period length, not the actual period length. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="3062925">You might want to take an entirely different approach to this proration algorithm. For example, suppose a rate from the table represents the price for 1 day or 30 days. You could do the following:</a></div>
      <div class="LS_-_List_Start_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LS_-_List_Start_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	1.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LS_-_List_Start_inner"><a name="3063251">Calculate the length of the actual policy period. For example, 280 days for a non-standard year period.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	2.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="3063265">Determine the rate for that period with the formula:</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="CS_-_Code_Single_Line"><span class="pc_-_parameter_in_code"><a name="3071162">period_rate</a></span> = <span class="pc_-_parameter_in_code">actual_rate</span> * (<span class="pc_-_parameter_in_code">number_of_days_in_period</span>) / (<span class="pc_-_parameter_in_code">number_of_days_for_standard_rate</span>). </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	3.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="3071163">Set the </a><span class="cv_-_computer_voice">TermAmount</span> property on the cost data object based on the 280 day rate.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	4.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="3071164">Set the </a><span class="cv_-_computer_voice">NumDaysInRatedTerm</span> property on the cost data object to <span class="cv_-_computer_voice">280</span>. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="3065923">This way, the insured sees costs that represent the entire term that do not appear prorated. The rate varies if the period length varies, but this may be your desired behavior for some or all rating lines. If you have questions about this, contact Guidewire Customer Support.</a></div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>