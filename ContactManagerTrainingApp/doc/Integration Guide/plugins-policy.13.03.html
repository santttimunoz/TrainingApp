<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Account Plugin Details</title>
    <link rel="StyleSheet" href="css/plugins-policy.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>PolicyCenter Integration Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="p-plugins.html#2377788">Plugins</a> : <a class="WebWorks_Breadcrumb_Link" href="plugins-policy.13.01.html#2377788">Account and Policy Plugins</a> : Account Plugin Details</span></div>
    <hr align="left" />
    <blockquote>
      <h3 class="H1_-_Heading_1"><a name="2377788">Account Plugin Details</a></h3>
      <div class="B_-_Body"><a name="2377790">You can use the account plugin (</a><span class="cv_-_computer_voice">IAccountPlugin</span>) to customize how PolicyCenter manages accounts. </div>
      <h6 class="HS_-_Head_Sub"><a name="2388114">Performing Account Name Clearance</a></h6>
      <div class="B_-_Body"><a name="2377833">Name clearance is part of an insurance application in which the insurance carrier determines whether this client already has insurance with the carrier or is represented by a different producer. If represented by another producer, the account is reserved for the other producer. Reservation is performed by line of business, so a client represented by one producer for one line of business could be represented by another producer for another type of policy. If the name is reserved, then the producer needs to be informed of the conflict. If not, the account is now reserved for this producer and the process can proceed.</a></div>
      <div class="B_-_Body"><a name="2388502">The plugin’s </a><span class="cv_-_computer_voice">performNameClearance</span> method performs name clearance on the given account and producer in the form of an <span class="cv_-_computer_voice">Account</span> and a <span class="cv_-_computer_voice">ProducerSelection</span>. It returns the available products and sets the status appropriately based on the product model configuration. The status on a product might be something other than available, for example that the product is risk reserved or inapplicable. </div>
      <h6 class="HS_-_Head_Sub"><a name="2388505">Customizing Deleting an Account</a></h6>
      <div class="B_-_Body"><a name="2387870">PolicyCenter calls this plugin’s </a><span class="cv_-_computer_voice">freezeAccount</span> method to signal that the passed-in <span class="cv_-_computer_voice">Account</span> entity is frozen and about to be deleted. If you need to do any special action before deletion, do it in this method. For example, if you have linked data through foreign keys on the <span class="cv_-_computer_voice">Account</span> entity, you might need to delete that data also.</div>
      <div class="B_-_Body"><a name="2388536">PolicyCenter only calls this if PolicyCenter is not the true system of record for the account and the account is about to be deleted from the account system of record. This is also called after withdrawing accounts. PolicyCenter does not allow deletion of accounts if PolicyCenter is the account system of record.</a></div>
      <h6 class="HS_-_Head_Sub"><a name="2387899">Generate New Account Number</a></h6>
      <div class="B_-_Body"><a name="2387908">Generate a new account number in the </a><span style="font-family: &quot;Lucida Sans Typewriter&quot;; font-size: 7.0pt">generateAccountNumber</span> method. It takes an Account number and must return a unique ID for the account. You might want to use the sequence APIs to do this, discussed in <a href="javascript:WWHClickedPopup('integration', 'plugins.12.13.html#2623116', '');" title="Creating Unique Numbers in a Sequence">“Creating Unique Numbers in a Sequence”</a>.</div>
      <h6 class="HS_-_Head_Sub"><a name="2387920">Is Account Editable?</a></h6>
      <div class="B_-_Body"><a name="2388061">Implement the </a><span class="cv_-_computer_voice">isEditable</span> method in this plugin to indicate whether an account is editable. It takes an <span class="cv_-_computer_voice">Account</span> object and returns a <span class="cv_-_computer_voice">boolean</span>.</div>
      <div class="B_-_Body"><a name="2388593">The default behavior is that an account is editable but you can customize this behavior. For example, if PolicyCenter is not the system of record for the account, you might choose to always make the account non-editable.</a></div>
      <h6 class="HS_-_Head_Sub"><a name="2387936">Customizing Checking Whether Risk is Reserved</a></h6>
      <div class="B_-_Body"><a name="2388093">Implement the </a><span class="cv_-_computer_voice">isRiskReserved</span> method to customize how PolicyCenter checks whether the given <span class="cv_-_computer_voice">PolicyPeriod</span> is already risk reserved.</div>
      <h6 class="HS_-_Head_Sub"><a name="2387841">Customizing Behavior After Merging Accounts</a></h6>
      <div class="B_-_Body"><a name="2388128">After PolicyCenter merges two accounts, calls the </a><span class="cv_-_computer_voice">mergeAccounts</span> method in this plugin so you can customize the application logic. There is no required behavior, but if you have data model extension properties, you might need to merge or copy data to the merged account. If you have related foreign key fields to other data, you might need to merge or delete that data also.</div>
      <div class="B_-_Body"><a name="2388129">PolicyCenter calls this method after the two accounts were merged into a single entity but the other (non-merged) account entity has not yet been retired. The first parameter to the method is </a><span class="cv_-_computer_voice">Account</span> that is soon to be retired. The second parameter is the destination merged account.</div>
      <div class="B_-_Body"><a name="2388623">Merging two accounts is not enabled in the built-in PolicyCenter user interface, but can be triggered using the </a><span class="cv_-_computer_voice">AccountAPI</span> web service <span class="cv_-_computer_voice">mergeAccounts</span>. </div>
      <h6 class="HS_-_Head_Sub"><a name="2387845">Populating Account Summaries With Extension Properties</a></h6>
      <div class="B_-_Body"><a name="2388151">PolicyCenter has an entity called </a><span class="cv_-_computer_voice">AccountSummary</span> that it uses in several places in the user interface to summarize an account. The application copies the standard built-in properties automatically. </div>
      <div class="B_-_Body"><a name="2388274">There is no required behavior. However, if you have data model extension properties in the </a><span class="cv_-_computer_voice">Account</span> that you want in the summary, copy them from the <span class="cv_-_computer_voice">Account</span> to the <span class="cv_-_computer_voice">AccountSummary</span>. Implement this action in the account plugin’s <span class="cv_-_computer_voice">populateAccountSummary</span> method.</div>
      <h6 class="HS_-_Head_Sub"><a name="2387847">Customizing Transferring Policies from One Account to Another Account</a></h6>
      <div class="B_-_Body"><a name="2388230">After PolicyCenter transfers policies from one account to another, you can customize the application logic. </a></div>
      <div class="B_-_Body"><a name="2388271">There is no required behavior, but if you have any data model extension properties and possibly additional foreign key references, you might need to customize this logic. Implement the </a><span class="cv_-_computer_voice">transferPolicies</span> method, with the following signature:</div>
      <div class="CS_-_Code_Single_Line"><a name="2388231">void 	transferPolicies(Policy[] policies, Account fromAccount, Account toAccount)</a></div>
      <div class="B_-_Body"><a name="2388662">Transferring policies from one account to another is not enabled in the built-in PolicyCenter user interface, but you can trigger it using the </a><span class="cv_-_computer_voice">AccountAPI</span> web service method <span class="cv_-_computer_voice">transferPolicies</span>. For details, see <a href="javascript:WWHClickedPopup('integration', 'webservices-policy.10.02.html#3476833', '');" title="Account Web Services">“Account Web Services”</a>.</div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>