<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Underwriting Company Plugin</title>
    <link rel="StyleSheet" href="css/plugins-policy.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>PolicyCenter Integration Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="p-plugins.html#2399511">Plugins</a> : <a class="WebWorks_Breadcrumb_Link" href="plugins-policy.13.01.html#2399511">Account and Policy Plugins</a> : Underwriting Company Plugin</span></div>
    <hr align="left" />
    <blockquote>
      <h3 class="H1_-_Heading_1"><a name="2399511">Underwriting Company Plugin</a></h3>
      <div class="B_-_Body"><a name="2399464">To customize how PolicyCenter finds which underwriting companies are available for a set of states, implement your own version of the underwriting company plugin interface, </a><span class="cv_-_computer_voice">IUWCompanyPlugin</span>.</div>
      <div class="B_-_Body"><a name="2567106">There is only one method on the plugin, which is </a><span class="cv_-_computer_voice">findUWCompaniesForStates</span>. Your implementation of this method must find all underwriting companies that are available for the set of states associated with this policy. You return the list of under writing companies as a set (<span class="cv_-_computer_voice">java.util.Set</span>) of underwriting companies (<span class="cv_-_computer_voice">UWCompany</span>). Using Gosu generics notation, the type you need to return is <span class="cv_-_computer_voice">Set&lt;UWCompany&gt;</span>. If you want to filter the states by product and effective date, you can choose to filter using those properties.</div>
      <div class="B_-_Body"><a name="2567107">The method parameters are a policy period (</a><span class="cv_-_computer_voice">PolicyPeriod</span>) and a Boolean parameter called <span class="cv_-_computer_voice">allStates</span>. Use the <span class="cv_-_computer_voice">allStates</span> parameter as follows:</div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2402286">If </a><span class="cv_-_computer_voice">allStates</span> is <span class="cv_-_computer_voice">true</span>, only return a company if the underwriting company contains all states associated with the policy. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2402303">If </a><span class="cv_-_computer_voice">allStates</span> is <span class="cv_-_computer_voice">false</span>, only return a company if the underwriting company contains any states associated with the policy. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="2402369">The built-in implementation of this plugin calls a built-in class to find underwriting companies by states and product and valid on a specific date. It uses the </a><span class="cv_-_computer_voice">allStates</span> parameter, querying the <span class="cv_-_computer_voice">UWCompany</span> table with a conjunctive or disjunctive reverse join through the <span class="cv_-_computer_voice">LicensedState</span> table per state, depending on the value of the <span class="cv_-_computer_voice">allStates</span> value.</div>
      <div class="B_-_Body"><a name="2402428">The following Gosu code example demonstrates this approach:</a></div>
      <PRE class="CM_-_Code_Middle_Line"><a name="2402397">class UWCompanyPlugin implements IUWCompanyPlugin {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2402398">  /**</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2402399">   * Finds all the underwriting companies that are available for the states in the set.</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2402400">   * Also allows filtering of the States by product and effective date.</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2402401">   * Does not return UWCompanies of "retired" status.</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2402402">   *</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2402403">   * @param period The Policy Period</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2402404">   * @param allStates If true, *all* states must be found on the UWCompany;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2402405">   *                  if false, *any* must be found.</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2402406">   * @return A query of underwriting companies</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2402407">   */</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2402408">  override function findUWCompaniesForStates(period : PolicyPeriod, allStates : boolean)</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2406634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: Set&lt;UWCompany&gt; {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2402409">    // This OOTB implementation goes through Guidewire's UWCompanyFinder to retrieve the UWCompanies</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2402410">    // The finder queries on the UWCompany table with a conjunctive or disjunctive reverse join through</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2402411">    // the LicensedState table per state, depending on the value of allStates.</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2402412">    return PCDependencies.getUWCompanyFinder().findUWCompaniesByStatesAndProductAndValidOnDate(</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2406642">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;period.AllCoveredStates, allStates, period.Policy.Product, period.PeriodStart).toSet()</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2402413">  }</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2402414">}</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2402370">&nbsp;</a></PRE>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>