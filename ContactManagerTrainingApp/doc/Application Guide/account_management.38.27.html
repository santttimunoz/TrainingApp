<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Account Relationship Rule Sets</title>
    <link rel="StyleSheet" href="css/account_management.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>PolicyCenter Application&nbsp;Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="p-components.html#4828591">Additional Features of PolicyCenter</a> : <a class="WebWorks_Breadcrumb_Link" href="account_management.38.01.html#4828591">Account File</a> : <a class="WebWorks_Breadcrumb_Link" href="account_management.38.26.html#4828591">Configuring Account Relationships</a> : Account Relationship Rule Sets</span></div>
    <hr align="left" />
    <blockquote>
      <h4 class="H2B_-_Heading_2_Break"><a name="4828591">Account Relationship Rule Sets</a></h4>
      <div class="B_-_Body"><a name="4533417">In Studio, rule sets are grouped by function for the purpose of customizing a process. This topic describes the rules that pertain to account relationships.</a></div>
      <div class="N_-_Note">
        <span class="n_-_note">Note: </span><a name="4440074">For information on how to insert and configure Gosu rules, see </a><a href="javascript:WWHClickedPopup('rules', 'pc_rulesets.09.01.html#15624042', '');" title="Rule Set Categories">“Rule Set Categories” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('rules', 'pc_rulesets.09.01.html#15624042', '');" title="Rule Set Categories">Rules Guide</a></span>.</div>
      <div class="B_-_Body"><a name="4440075">The following table describes rule sets in the default application related to account relationships.</a></div>
      <div class="F_-_Figure"><a name="4440107">&nbsp;</a></div>
      <table class="withHeading" style="text-align: left" border="0" cellpadding="10" cellspacing="0" summary="">
        <caption></caption>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: bottom">
            <div class="TH_-_Table_Heading"><a name="4830046">Rule</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: bottom">
            <div class="TH_-_Table_Heading"><a name="4830048">Description</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top">
            <div class="TT_-_Table_Text"><span class="uist_-_UI_element_Studio_table"><a name="4830053">Validation</a></span> → <span class="uist_-_UI_element_Studio_table">Account&nbsp;Validation&nbsp;Rules</span> →<span class="uist_-_UI_element_Studio_table"> Related&nbsp;Accounts</span> </div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top">
            <div class="TT_-_Table_Text"><span style="font-family: &quot;Times New Roman&quot;; font-size: 10.0pt"><a name="4830059">Invoked when an </a></span><span class="cvt_-_computer_voice_table">AccountAccount</span><span style="font-family: &quot;Times New Roman&quot;; font-size: 10.0pt"> entity is added or updated.</span></div>
            <div class="TT_-_Table_Text"><a name="4839214">Performs the following checks:</a></div>
            <div class="BIT_-_Bullet_Item_Table_outer" style="margin-left: 2.16pt">
              <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
                <tr style="vertical-align: baseline">
                  <td>
                    <div class="BIT_-_Bullet_Item_Table_inner" style="width: 7.199999999999999pt; white-space: nowrap">
                      <span class="but_-_bullet_in_table">•	</span>
                    </div>
                  </td>
                  <td width="100%">
                    <div class="BIT_-_Bullet_Item_Table_inner"><a name="4830060">Checks that no exact duplicate </a><span class="cvt_-_computer_voice_table">AccountAccount</span> entities exist on an account, with the same <span class="cvt_-_computer_voice_table">SourceAccount</span>, <span class="cvt_-_computer_voice_table">TargetAccount</span> and <span class="cvt_-_computer_voice_table">RelationshipType</span> fields. </div>
                  </td>
                </tr>
              </table>
            </div>
            <div class="BIT_-_Bullet_Item_Table_outer" style="margin-left: 2.16pt">
              <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
                <tr style="vertical-align: baseline">
                  <td>
                    <div class="BIT_-_Bullet_Item_Table_inner" style="width: 7.199999999999999pt; white-space: nowrap">
                      <span class="but_-_bullet_in_table">•	</span>
                    </div>
                  </td>
                  <td width="100%">
                    <div class="BIT_-_Bullet_Item_Table_inner"><a name="4830061">Checks that no inverse duplicate </a><span class="cvt_-_computer_voice_table">AccountAccount</span> entities exist on an account, where the <span class="cvt_-_computer_voice_table">SourceAccount</span>, <span class="cvt_-_computer_voice_table">TargetAccount</span>, and <span class="cvt_-_computer_voice_table">RelationshipType</span> of one matches the <span class="cvt_-_computer_voice_table">TargetAccount</span>, <span class="cvt_-_computer_voice_table">SourceAccount</span>, and inverse <span class="cvt_-_computer_voice_table">RelationshipType</span> of the other. For example, if A is the parent of B, then there must not be another <span class="cvt_-_computer_voice_table">AccountAccount</span> explicitly marking B as the child of A. </div>
                  </td>
                </tr>
              </table>
            </div>
            <div class="TT_-_Table_Text"><a name="4830064">If necessary, you can modify or add additional validations.</a></div>
          </td>
        </tr>
      </table>
      <h4 class="H2_-_Heading_2"><a name="4829504">Account Relationship Methods in Gosu Classes</a></h4>
      <div class="B_-_Body"><a name="4830083">This topic describes various methods in Gosu classes for working with account relationships.</a></div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="4829506">Adding a Relationship</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="4829507">Use the </a><span class="cv_-_computer_voice">Account.addRelationship</span> method in <span class="cv_-_computer_voice">AccountBaseEnhancement</span> to add relationships to an account. This method creates and returns a new <span class="cv_-_computer_voice">AccountAccount</span> entity. The new <span class="cv_-_computer_voice">AccountAccount</span> appears in <span class="cv_-_computer_voice">Account.SourceRelatedAccounts</span> and in <span class="cv_-_computer_voice">relatedAccount.TargetRelatedAccounts</span>. </div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="4829508">Removing a Relationship</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="BKN_-_Body_002c_Keep_Next"><a name="4829509">You can remove a relationships by simply removing the </a><span class="cv_-_computer_voice">AccountAccount</span> entity in one of the following ways:</div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="4829510">Calling the </a><span class="cv_-_computer_voice">removeFromSourceRelatedAccounts</span> or <span class="cv_-_computer_voice">removeFromTargetRelatedAccounts</span> method on an <span class="cv_-_computer_voice">Account</span> entity</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="4829511">Calling </a><span class="cv_-_computer_voice">remove</span> on the <span class="cv_-_computer_voice">AccountAccount</span> entity</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="4829512">Getting Relationships</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="4839160">The </a><span class="cv_-_computer_voice">getRelationship</span> method in the <span class="cv_-_computer_voice">AccountAccountEnhancement</span> wraps an <span class="cv_-_computer_voice">AccountAccount</span> in a new <span class="cv_-_computer_voice">AccountRelationship</span> Gosu object that is aware of the direction of the relationship.</div>
      <div class="CS_-_Code_Single_Line"><a name="4829514">AccountAccount.getRelationship(primaryAccount : Account) : AccountRelationship</a></div>
      <div class="BKN_-_Body_002c_Keep_Next"><a name="4829515">This method returns an </a><span class="cv_-_computer_voice">AccountRelationship</span> which represents an <span class="cv_-_computer_voice">AccountAccount</span> from the perspective of the argument <span class="cv_-_computer_voice">primaryAccount</span>. The <span class="cv_-_computer_voice">AccountRelationship</span> provides two properties, which are both readable and writable: </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="cv_-_computer_voice"><a name="4829516">OtherAccount</a></span> refers to the other account in the relationship from the perspective of <span class="cv_-_computer_voice">primaryAccount</span>. So if <span class="cv_-_computer_voice">primaryAccount</span> is the <span class="cv_-_computer_voice">SourceAccount</span> of a relationship then <span class="cv_-_computer_voice">OtherAccount</span> maps to the <span class="cv_-_computer_voice">TargetAccount</span>. Conversely, if <span class="cv_-_computer_voice">primaryAccount</span> is the <span class="cv_-_computer_voice">TargetAccount</span> in the relationship, then <span class="cv_-_computer_voice">OtherAccount</span> maps to the <span class="cv_-_computer_voice">SourceAccount</span>. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="cv_-_computer_voice"><a name="4829517">RelationshipType</a></span> is the type of relationship from the perspective of <span class="cv_-_computer_voice">primaryAccount</span>. If <span class="cv_-_computer_voice">primaryAccount</span> is the <span class="cv_-_computer_voice">SourceAccount</span> of an <span class="cv_-_computer_voice">AccountAccount</span> relationship, then <span class="cv_-_computer_voice">RelationshipType</span> is the same as the type in the <span class="cv_-_computer_voice">AccountAccount</span>. If <span class="cv_-_computer_voice">primaryAccount</span> is the <span class="cv_-_computer_voice">TargetAccount</span>, then <span class="cv_-_computer_voice">RelationshipType</span> is the inverse of the type in the <span class="cv_-_computer_voice">AccountAccount</span>. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="F_-_Figure"><a name="4840664"><img class="Default" src="images/account_management.38.27.1.png" style="display: inline; float: none; left: 0.0; top: 0.0" alt="" /></a></div>
      <h6 class="HS_-_Head_Sub"><a name="4829524">Example</a></h6>
      <div class="BKN_-_Body_002c_Keep_Next"><a name="4829525">Assume there is an </a><span class="cv_-_computer_voice">AccountAccount</span> whose <span class="cv_-_computer_voice">SourceAccount</span> is <span class="cv_-_computer_voice">A</span>, <span class="cv_-_computer_voice">TargetAccount</span> is <span class="cv_-_computer_voice">B</span>, and <span class="cv_-_computer_voice">RelationshipType</span> is <span class="cv_-_computer_voice">parent</span>. The <span class="cv_-_computer_voice">AccountAccount</span> object has the following relationships:</div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="cv_-_computer_voice"><a name="4829526">AccountAccount.getRelationship(A).OtherAccount == B</a></span> </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="cv_-_computer_voice"><a name="4829527">AccountAccount.getRelationship(A).RelationshipType == "parent"</a></span> </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="cv_-_computer_voice"><a name="4829528">AccountAccount.getRelationship(B).OtherAccount == A</a></span> </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="cv_-_computer_voice"><a name="4829529">AccountAccount.getRelationship(B).RelationshipType == "child"</a></span> </div>
            </td>
          </tr>
        </table>
      </div>
      <h6 class="HS_-_Head_Sub"><a name="4839140">Getting All Relationships</a></h6>
      <div class="B_-_Body"><a name="4839142">The </a><span class="cv_-_computer_voice">Account.AllRelationships</span> method in <span class="cv_-_computer_voice">AccountBaseEnhancement</span> returns an array of <span class="cv_-_computer_voice">AccountRelationships</span> for all relationships of an account. </div>
      <div class="CS_-_Code_Single_Line"><a name="4839143">Account.AllRelationships : AccountRelationship[]</a></div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="4838649">Configuring Shared Contact Search Criteria</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="4838710">On the </a><span class="ui_-_UI_element">Related Accounts</span> screen, you can search for <span class="ui_-_UI_element">Accounts with a common account holder or named insured</span>. In the base configuration, the search finds accounts with contacts that are account holders or named insureds on both accounts. </div>
      <div class="B_-_Body"><a name="4838751">You can view and modify the code for the search in </a><span class="cv_-_computer_voice">gw.account.SharedContactAccountSearchCriteria</span>. </div>
      <div class="B_-_Body"><a name="4838761">The </a><span class="cv_-_computer_voice">SearchableSharedContactRoles</span> property defines the contact roles that this search includes.</div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>