<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Configuring Account Relationships</title>
    <link rel="StyleSheet" href="css/account_management.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>PolicyCenter Application&nbsp;Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="p-components.html#4828388">Additional Features of PolicyCenter</a> : <a class="WebWorks_Breadcrumb_Link" href="account_management.38.01.html#4828388">Account File</a> : Configuring Account Relationships</span></div>
    <hr align="left" />
    <blockquote>
      <h3 class="H1_-_Heading_1"><a name="4828388">Configuring Account Relationships</a></h3>
      <div class="BKN_-_Body_002c_Keep_Next"><a name="4829415">This topic describes how to configure account relationships and contains the following topics:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('app', 'account_management.38.26.html#4829778', '');" title="Configuring Account Relationships" name="4839055">Account Relationship Object Model</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('app', 'account_management.38.26.html#4828605', '');" title="Configuring Account Relationships" name="4839070">Account Relationship Typelist</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('app', 'account_management.38.26.html#4829894', '');" title="Configuring Account Relationships" name="4839080">Account Relationship Methods in the Account Plugin</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('app', 'account_management.38.27.html#4829504', '');" title="Account Relationship Rule Sets" name="4839091">Account Relationship Methods in Gosu Classes</a></div>
            </td>
          </tr>
        </table>
      </div>
      <h4 class="H2_-_Heading_2"><a name="4829778">Account Relationship Object Model</a></h4>
      <div class="B_-_Body"><a name="4828004">The following illustration shows account entities associated with account relationships.</a></div>
      <div class="B_-_Body"><a name="4829830">See the </a><span class="bt_-_book_title">Data Dictionary</span> for a complete list of all properties in the entities. The illustration displays a partial list.</div>
      <div class="F_-_Figure"><a name="4828011"><img class="Default" src="images/account_management.38.26.1.png" style="display: inline; float: none; left: 0.0; top: 0.0" alt="" /></a></div>
      <div class="B_-_Body"><a name="4829846">The </a><span class="cv_-_computer_voice">AccountAccount</span> entity represents a relationship between a <span class="cv_-_computer_voice">SourceAccount</span> and a <span class="cv_-_computer_voice">TargetAccount</span>. The <span class="cv_-_computer_voice">SourceAccount</span> and <span class="cv_-_computer_voice">TargetAccount</span> can be the same. The <span class="cv_-_computer_voice">RelationshipType</span> field is a typekey to the <span class="cv_-_computer_voice">AccountRelationshipType</span> typelist. For more information, see <a href="javascript:WWHClickedPopup('app', 'account_management.38.26.html#4828605', '');" title="Configuring Account Relationships">“Account Relationship Typelist”</a>.</div>
      <div class="B_-_Body"><a name="4828792">For account relationships, the </a><span class="cv_-_computer_voice">Account</span> entity has two arrays: <span class="cv_-_computer_voice">SourceRelatedAccounts</span> and <span class="cv_-_computer_voice">TargetRelatedAccounts</span>. Each array contains <span class="cv_-_computer_voice">AccountAccount</span> entities, which link back to <span class="cv_-_computer_voice">Account</span> with the <span class="cv_-_computer_voice">SourceAccount</span> and <span class="cv_-_computer_voice">TargetAccount</span> fields. The <span class="cv_-_computer_voice">AllRelatedAccounts</span> field is a derived array which returns an <span class="cv_-_computer_voice">AccountAccount</span> entity for all source and target related accounts. For most account relationships, this field returns two <span class="cv_-_computer_voice">AccountAccount</span> entities. If an account is related to itself then the return array includes only one <span class="cv_-_computer_voice">AccountAccount</span> entity, even though that <span class="cv_-_computer_voice">AccountAccount</span> appears in both <span class="cv_-_computer_voice">SourceRelatedAccounts</span> and <span class="cv_-_computer_voice">TargetRelatedAccounts</span>.</div>
      <div class="B_-_Body"><a name="4828107">A single </a><span class="cv_-_computer_voice">AccountAccount</span> entity represents a bidirectional relationship from its <span class="cv_-_computer_voice">SourceAccount</span> to its <span class="cv_-_computer_voice">TargetAccount</span>. For example, if account A is the parent<span class="e_-_emphasis"> </span>of account B, then the single <span class="cv_-_computer_voice">AccountAccount</span> also represents that B is the child of A. </div>
      <div class="B_-_Body"><a name="4828109">The </a><span class="cv_-_computer_voice">SourceRelatedAccounts</span> array is marked as <span class="cv_-_computer_voice">owner</span> which forces account validation to run when an <span class="cv_-_computer_voice">AccountAccount</span> in this array is added or updated. The default validation ensures that no duplicate relationships are created. The <span class="cv_-_computer_voice">TargetRelatedAccounts</span> array does not need to be <span class="cv_-_computer_voice">owner</span> because the target accounts are included implicitly in the validation rules. For more information about the <span class="cv_-_computer_voice">owner</span> attribute, see <a href="javascript:WWHClickedPopup('config', 'entities.21.13.html#2649649', '');" title="&lt;array&gt;">“&lt;array&gt;” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('config', 'entities.21.13.html#2649649', '');" title="&lt;array&gt;">Configuration Guide</a></span>. In Studio, the owner attribute is set in <span class="cv_-_computer_voice">Account.eti</span> located in <span class="uis_-_UI_element_Studio">configuration</span><span style="font-family: Arial; font-size: 8.0pt"> → </span><span class="uis_-_UI_element_Studio">config</span><span style="font-family: Arial; font-size: 8.0pt"> → </span><span class="uis_-_UI_element_Studio">Metadata</span><span style="font-family: Arial; font-size: 8.0pt"> → </span><span class="uis_-_UI_element_Studio">Entity</span>.</div>
      <div class="B_-_Body"><a name="4828111">The </a><span class="cv_-_computer_voice">SourceAccount</span>, <span class="cv_-_computer_voice">TargetAccount</span>, <span class="cv_-_computer_voice">RelationshipType</span> and <span class="cv_-_computer_voice">Retired</span> fields of each <span class="cv_-_computer_voice">AccountAccount</span> entity must be unique. Therefore, no <span class="cv_-_computer_voice">SourceAccount</span> may be related to the same <span class="cv_-_computer_voice">TargetAccount</span> with the same <span class="cv_-_computer_voice">RelationshipType</span> more than once. </div>
      <h4 class="H2_-_Heading_2"><a name="4828605">Account Relationship Typelist</a></h4>
      <div class="B_-_Body"><a name="4828651">The </a><span class="cv_-_computer_voice">AccountRelationshipType</span> typelist is extensible, and represents the relationship from the perspective of the source account. The following table lists the codes for the <span class="cv_-_computer_voice">AccountRelationshipType</span> typelist in the base configuration.</div>
      <div class="T_-_Table"><a name="4828669">&nbsp;</a></div>
      <table class="withHeading" style="text-align: left" border="0" cellpadding="10" cellspacing="0" summary="">
        <caption></caption>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: bottom">
            <div class="TH_-_Table_Heading"><a name="4828654">Typecode</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: bottom">
            <div class="TH_-_Table_Heading"><a name="4828656">Name</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline"><span class="cvt_-_computer_voice_table"><a name="4828658">parent</a></span></div>
          </td>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline"><span class="cvt_-_computer_voice_table"><a name="4828660">Parent of</a></span></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline"><span class="cvt_-_computer_voice_table"><a name="4828662">child</a></span></div>
          </td>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline"><span class="cvt_-_computer_voice_table"><a name="4828664">Child of</a></span></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline"><span class="cvt_-_computer_voice_table"><a name="4828666">commonowner</a></span></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline"><span class="cvt_-_computer_voice_table"><a name="4828668">Common Ownership</a></span></div>
          </td>
        </tr>
      </table>
      <div class="B_-_Body"><a name="4828623">In the base configuration, the </a><span class="cv_-_computer_voice">parent</span> and <span class="cv_-_computer_voice">child</span> relationships are the inverse of each other, while <span class="cv_-_computer_voice">commonowner</span> is reciprocal. For example, if account A is the parent of account B, then B is the child of A. Similarly, if A is a common owner with B, then B is also a common owner with A. </div>
      <h4 class="H2_-_Heading_2"><a name="4829894">Account Relationship Methods in the Account Plugin</a></h4>
      <div class="B_-_Body"><a name="4829910">The </a><span class="cv_-_computer_voice">getInverseRelationshipType</span> method of the <span class="cv_-_computer_voice">IAccountPlugin</span> takes as input a relationship type, and returns the inverse relationship type. PolicyCenter assumes that all relationships have an inverse relationship, therefore this method must not return null. You can modify the default behavior of <span class="cv_-_computer_voice">getInverseRelationshipType</span> method and add code to handle new typecodes.</div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>