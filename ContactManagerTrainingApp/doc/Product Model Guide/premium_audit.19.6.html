<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Step 5: Enable Premium Reports</title>
    <link rel="StyleSheet" href="css/premium_audit.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>PolicyCenter Product Model Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="p-lob.html#1082050">Configuring Lines of Business</a> : <a class="WebWorks_Breadcrumb_Link" href="premium_audit.19.1.html#1082050">Adding Premium Audit to a Line of Business</a> : Step 5: Enable Premium Reports</span></div>
    <hr align="left" />
    <blockquote>
      <h3 class="H1_-_Heading_1"><a name="1082050">Step 5: Enable Premium Reports</a></h3>
      <div class="B_-_Body"><a name="1082051">After you configure a line of business for final audit, you can enable premium reporting. This topic describes how to enable premium reports for a line of business.</a></div>
      <h4 class="H2_-_Heading_2"><a name="1083069">Filtering Reporting Plans</a></h4>
      <div class="LS_-_List_Start_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LS_-_List_Start_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	1.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LS_-_List_Start_inner"><a name="1082064">In Studio, navigate to </a><span class="uis_-_UI_element_Studio">configuration</span> → <span class="uis_-_UI_element_Studio">gsrc</span>, and then open <span class="cv_-_computer_voice">gw.plugin.policy.impl.PolicyPaymentPlugin</span>. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LP_-_List_Para"><a name="1082647">The </a><span class="cv_-_computer_voice">filterReportingPlans</span> method returns an array of reporting plans based on the product code of the policy. </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	2.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="1082630">Modify the method to return reporting plans for the line of business. For example, the following code adds premium reporting for the general liability line.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <PRE class="CF_-_Code_First_Line"><a name="1118990">&nbsp;&nbsp;override function filterReportingPlans( policy : Policy, plans : PaymentPlanSummary[] ) :</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1118991">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PaymentPlanSummary[] </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1118992">&nbsp;&nbsp;{</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1082068">&nbsp;&nbsp;&nbsp;&nbsp;if (policy.ProductCode.equals("WorkersComp") </a><span class="s_-_strong">|| policy.ProductCode.equals("GeneralLiability")</span>) {</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1082069">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return plans   </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1082070">&nbsp;&nbsp;&nbsp;&nbsp;}</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1082071">&nbsp;&nbsp;&nbsp;&nbsp;else {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1082072">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return plans.where( \ p -&gt; p.PaymentCode == null )</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1118980">&nbsp;&nbsp;&nbsp;&nbsp;}  </a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="1118982">&nbsp;&nbsp;}</a></PRE>
      <h4 class="H2_-_Heading_2"><a name="1118977">Modifying the Audit Wizard to Support Premium Reports</a></h4>
      <div class="B_-_Body"><a name="1119076">You defined the audit details panel set in </a><a href="javascript:WWHClickedPopup('productmodel', 'premium_audit.19.3.html#1081950', '');" title="Step 2: Add the Line of Business to the Audit Wizard">“Adding the Audit Details Panel Set”</a>. To support premium reports, you must update this panel set as follows: </div>
      <div class="LS_-_List_Start_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LS_-_List_Start_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	1.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LS_-_List_Start_inner"><a name="1119092">Navigate to </a><span class="uis_-_UI_element_Studio">configuration</span><span class="ui_-_UI_element"> → </span><span class="uis_-_UI_element_Studio">config</span><span class="ui_-_UI_element"> → </span><span class="uis_-_UI_element_Studio">Page Configuration</span><span class="ui_-_UI_element"> → </span><span class="uis_-_UI_element_Studio">pcf</span> → <span class="uis_-_UI_element_Studio">job</span> → <span class="uis_-_UI_element_Studio">audit</span> and open <span class="cv_-_computer_voice">AuditDetailsPanelSet.</span><span class="ps_-_parameter_in_code_snippets">line</span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	2.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="1119093">In the </a><span class="cv_-_computer_voice">PanelSet</span>, configure the row iterator to display the auditable items that have an effective date that falls within the audit period. For example, the auditable items in general liability are exposures.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LP_-_List_Para"><a name="1084171">Examine the </a><span class="cv_-_computer_voice">wcCovEmp</span> row iterator in <span class="cv_-_computer_voice">AuditDetailsPanelSet.WorkersComp</span>. The value of the iterator is set to <span class="cv_-_computer_voice">wcCoveredEmpInLocation(ratingPeriod)</span>. Ctrl-click <span class="cv_-_computer_voice">wcCoveredEmpInLocation</span> to view this method in the <span class="ui_-_UI_element">Code</span> tab.</div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	3.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="1083293">For premium reports, display a prorated amount for the value of the </a><span class="uis_-_UI_element_Studio">Estimated Payroll</span> cell in the row iterator. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LP_-_List_Para"><a name="1084187">For an example in workers’ compensation, examine the </a><span class="cv_-_computer_voice">EstPayroll</span> cell. The value is set to <span class="cv_-_computer_voice">basisForRating(wcCovEmp)</span>. Ctrl-click <span class="cv_-_computer_voice">basisForRating</span> to view this method in the <span class="uis_-_UI_element_Studio">Code</span> tab. The prorated amount is calculated according to this formula:</div>
      <div class="CS_-_Code_Single_Line"><a name="1083137">&nbsp;&nbsp;BasisAmount * Days of Overlap with Audit Period / Total Days in Effective Period for the row</a></div>
      <h4 class="H2_-_Heading_2"><a name="1083392">Modifying the Rating Code to Support Premium Reports</a></h4>
      <div class="B_-_Body"><a name="1083089">The rating code must rate only the audited amounts that overlap the audit period. Furthermore, rating a full policy (such as a submission or final audit) is different than rating a premium report. </a></div>
      <div class="B_-_Body"><a name="1119213">You must determine how rating differs for a premium report, and then modify the rating code appropriately. For example, in premium reports for workers’ compensation, the rating code does not calculate an Expense Constant. Also, for Premium Discount, the rating code uses a previously-determined discount factor rather than calculating a new one.</a></div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>