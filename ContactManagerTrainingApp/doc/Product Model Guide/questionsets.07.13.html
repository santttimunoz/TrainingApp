<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Defining Answer Containers and Question Sets for Other Entities</title>
    <link rel="StyleSheet" href="css/questionsets.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>PolicyCenter Product Model Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="p-productmodel.html#5010602">PolicyCenter Product Model</a> : <a class="WebWorks_Breadcrumb_Link" href="questionsets.07.01.html#5010602">Question Sets</a> : Defining Answer Containers and Question Sets for Other Entities</span></div>
    <hr align="left" />
    <blockquote>
      <h3 class="H1_-_Heading_1"><a name="5010602">Defining Answer Containers and Question Sets for Other Entities</a></h3>
      <div class="B_-_Body"><a name="5010603">The default PolicyCenter configuration provides three answer container types: </a><span class="cv_-_computer_voice">PolicyLocation</span>, <span class="cv_-_computer_voice">PolicyPeriod</span>, and <span class="cv_-_computer_voice">PolicyLine</span>. These three types enable you to define question sets pertaining to policy locations, policy periods and the policy line itself. To define questions sets pertaining to a different entity, you must configure a new answer container type.</div>
      <div class="N_-_Note">
        <span class="n_-_note">Note: </span><a name="5010604">The configuration information in the following topics are general guidelines that must be adapted to your specific requirements.</a></div>
      <div class="BKN_-_Body_002c_Keep_Next"><a name="5010605">This topic describes how to define question sets for entities other than </a><span class="cv_-_computer_voice">PolicyLocation</span>, <span class="cv_-_computer_voice">PolicyPeriod</span>, and <span class="cv_-_computer_voice">PolicyLine</span>.</div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('productmodel', 'questionsets.07.13.html#5010608', '');" title="Defining Answer Containers and Question Sets for Other Entities" name="5010606">“Step 1: Create an Answer Container for the Entity”</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('productmodel', 'questionsets.07.13.html#5020025', '');" title="Defining Answer Containers and Question Sets for Other Entities" name="5020418">“Step 2: Add a typekey to define the question set type”</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('productmodel', 'questionsets.07.13.html#5020095', '');" title="Defining Answer Containers and Question Sets for Other Entities" name="5019005">“Step 3: Define Question Set and Question Lookup Tables”</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('productmodel', 'questionsets.07.13.html#5017156', '');" title="Defining Answer Containers and Question Sets for Other Entities" name="5019027">“Step 4: Define Question Set and Questions”</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('productmodel', 'questionsets.07.13.html#5051724', '');" title="Defining Answer Containers and Question Sets for Other Entities" name="5019045">“Step 5: Define the User Interface to Display the Question Set”</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('productmodel', 'questionsets.07.13.html#5051528', '');" title="Defining Answer Containers and Question Sets for Other Entities" name="5019060">“Step 6: Configuring an Answer Container to Trigger Underwriting Issues”</a></div>
            </td>
          </tr>
        </table>
      </div>
      <h4 class="H2_-_Heading_2"><a name="5010608">Step 1: Create an Answer Container for the Entity</a></h4>
      <div class="B_-_Body"><a name="5010609">The first step in defining a question set in another entity is to create a new answer container entity of the corresponding type.</a></div>
      <h6 class="HS_-_Head_Sub"><a name="5010610">To create an answer container for an entity</a></h6>
      <div class="LS_-_List_Start_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LS_-_List_Start_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	1.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LS_-_List_Start_inner"><a name="5010611">Create a new entity that has a foreign key to the target entity and implements </a><span class="cv_-_computer_voice">PCAnswerDelegate</span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LP_-_List_Para"><a name="5010612">For example, to configure an answer container for an account-level question set, create an entity named </a><span class="cv_-_computer_voice">AccountAnswer.etx</span> with a foreign key to <span class="cv_-_computer_voice">Account</span> that implements <span class="cv_-_computer_voice">PCAnswerDelegate</span>.</div>
      <div class="LP_-_List_Para"><a name="5010613">For guidance, examine one of the three base product answer containers, such as </a><span class="cv_-_computer_voice">LocationAnswer.eti</span>.</div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	2.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="5010614">Add an answer array to the base entity in which you are creating an answer container</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LP_-_List_Para"><a name="5010615">For example, to add an answer array for account-level answers, add an array named </a><span class="cv_-_computer_voice">AccountAnswers</span> to <span class="cv_-_computer_voice">Account.etx</span>, as follows:</div>
      <PRE class="CF_-_Code_First_Line"><a name="5010616">&nbsp;&nbsp;Account.etx</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="5010617">&nbsp;&nbsp;&nbsp;&nbsp;&lt;array</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="5010618">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arrayentity="AccountAnswer"</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="5010619">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cascadeDelete="true"</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="5010620">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;desc="Set of answers for this account."</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="5010621">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name="AccountAnswers"</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="5010622">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;owner="false"/&gt;</a></PRE>
      <div class="LP_-_List_Para"><a name="5010623">For guidance, examine one of the three base product entities that implements answer containers, such as </a><span class="cv_-_computer_voice">PolicyLocation.eti</span>.</div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	3.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="5010624">Define an answer container adapter in the </a><span class="cv_-_computer_voice">gw.question</span> package that implements the <span class="cv_-_computer_voice">AnswerContainerAdapter</span> interface. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LP_-_List_Para"><a name="5010625">For example, to define an answer container adapter for an account-level question set, create a new class file: </a><span class="cv_-_computer_voice">gw.question.AccountAnswerContainerAdapter.gs</span> that implements <span class="cv_-_computer_voice">gw.api.domain.AnswerContainerAdapter</span> and overrides appropriate methods and properties. The following code demonstrates a way to define an answer container for account-level question sets:</div>
      <PRE class="CF_-_Code_First_Line"><a name="5018727">&nbsp;&nbsp;package gw.question</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="5018728">&nbsp;&nbsp;uses gw.api.domain.AnswerContainerAdapter</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="5018729">&nbsp;&nbsp;uses java.util.Date</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="5014281">&nbsp;&nbsp;uses gw.api.productmodel.QuestionSet</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="5014282">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="5018775">&nbsp;&nbsp;@Export</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="5018782">&nbsp;&nbsp;class AccountAnswerContainerAdapter implements AnswerContainerAdapter {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="5018777">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="5018785">&nbsp;&nbsp;&nbsp;&nbsp;var _owner : Account</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="5014288">&nbsp;&nbsp;&nbsp;&nbsp;construct(owner : Account) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="5014289">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_owner = owner</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="5014290">&nbsp;&nbsp;&nbsp;&nbsp;}</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="5014291">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="5014292">&nbsp;&nbsp;&nbsp;&nbsp;override property get Answers() : PCAnswerDelegate[] {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="5014293">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return _owner.AccountAnswers</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="5014294">&nbsp;&nbsp;&nbsp;&nbsp;}</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="5014295">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="5014296">&nbsp;&nbsp;&nbsp;&nbsp;override property get AssociatedPolicyPeriod() : PolicyPeriod {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="5014297">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return null</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="5014298">&nbsp;&nbsp;&nbsp;&nbsp;}</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="5014299">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="5014300">&nbsp;&nbsp;&nbsp;&nbsp;override property get Locked() : boolean {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="5014301">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return false</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="5014302">&nbsp;&nbsp;&nbsp;&nbsp;}</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="5014303">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="5014304">&nbsp;&nbsp;&nbsp;&nbsp;override function addToAnswers(answer : PCAnswerDelegate) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="5014305">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_owner.addToAccountAnswers(answer as AccountAnswer)</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="5014306">&nbsp;&nbsp;&nbsp;&nbsp;}</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="5014307">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="5014308">&nbsp;&nbsp;&nbsp;&nbsp;override function createRawAnswer() : PCAnswerDelegate {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="5014309">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return new AccountAnswer(_owner)</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="5014310">&nbsp;&nbsp;&nbsp;&nbsp;}</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="5014311">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="5014312">&nbsp;&nbsp;&nbsp;&nbsp;override function getQuestionSetLookupReferenceDate(p0 : QuestionSetType) : Date {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="5014313">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return Date.Today</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="5014314">&nbsp;&nbsp;&nbsp;&nbsp;}</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="5014315">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="5018882">&nbsp;&nbsp;&nbsp;&nbsp;override function removeFromAnswers(answer : PCAnswerDelegate) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="5018883">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_owner.removeFromAccountAnswers(answer as AccountAnswer)</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="5018884">&nbsp;&nbsp;&nbsp;&nbsp;}</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="5014319">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="5014320">&nbsp;&nbsp;&nbsp;&nbsp;override property get QuestionSets() : QuestionSet[] {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="5014341">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return QuestionSet.getAll().where(\ q -&gt; q.AnswerContainerType == Account.Type).toTypedArray()</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="5014342">&nbsp;&nbsp;&nbsp;&nbsp;}</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="5014343">&nbsp;&nbsp;}</a></PRE>
      <div class="N_-_Note">
        <span class="n_-_note">Note: </span><a name="5015345">As shown in the last override of the preceding example, when getting question sets associated with an answer container, filter on </a><span class="cv_-_computer_voice">AnswerContainerType</span> rather than <span class="cv_-_computer_voice">QuestionSetType</span>. This technique is preferred because there can be multiple question set types associated with any one answer container type.</div>
      <div class="LP_-_List_Para"><a name="5019552">For more guidance, examine one of the three base product entities that implements answer containers, such as </a><span class="cv_-_computer_voice">PolicyLocationAnswerContainerAdapter.gs</span>.</div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	4.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="5019553">Update the definition of your entity to implement the answer container using the answer container adapter class you just defined.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LP_-_List_Para"><a name="5010628">For example, if you are defining an account-level question set and your answer container class is named </a><span class="cv_-_computer_voice">AccountAnswerContainerAdapter</span>:</div>
      <PRE class="CF_-_Code_First_Line"><a name="5010629">&nbsp;&nbsp;&lt;implementsEntity name="AnswerContainer" adapter="gw.question.AccountAnswerContainerAdapter"/&gt; </a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="5020017">&nbsp;&nbsp;name="AnswerContainer" /&gt;</a></PRE>
      <h4 class="H2_-_Heading_2"><a name="5020025">Step 2: Add a typekey to define the question set type</a></h4>
      <div class="B_-_Body"><a name="5022392">If you want to define a new question set type, you must add a new typekey to the </a><span class="cv_-_computer_voice">QuestionSetType</span> typelist. The question set type is often, but not necessarily, related to the entity where the answers are stored. However, a new question set type is not required and the question sets for the new answer container can use one of the existing question set types.</div>
      <h6 class="HS_-_Head_Sub"><a name="5050847">To add the typekey</a></h6>
      <div class="LS_-_List_Start_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LS_-_List_Start_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	1.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LS_-_List_Start_inner"><a name="5050857">Use the </a><span class="uis_-_UI_element_Studio">Project</span> window in Studio to navigate to <span class="uis_-_UI_element_Studio">configuration</span><span class="ui_-_UI_element"> → </span><span class="uis_-_UI_element_Studio">config</span><span class="ui_-_UI_element"> → </span><span class="uis_-_UI_element_Studio">extensions</span><span class="ui_-_UI_element"> → </span><span class="uis_-_UI_element_Studio">typelist</span> and open <span class="cv_-_computer_voice">QuestionSetType.ttx</span>. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	2.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="5050858">Right-click anywhere in the typelist in the left panel of the editor, and then select </a><span class="uis_-_UI_element_Studio">Add new</span> → <span class="uis_-_UI_element_Studio">typecode</span> to add a new row. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	3.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="5051180">With the new typekey row selected in the left panel of the editor, fill in the new typelist values as appropriate in the right panel of the editor.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LP_-_List_Para"><a name="5022155">For example, for an account-level question set type, add a typekey with a code of </a><span class="it_-_input_text">account</span>, a name of <span class="it_-_input_text">Account</span>, and a description of <span class="it_-_input_text">Account-level question set</span>.</div>
      <h4 class="H2_-_Heading_2"><a name="5020095">Step 3: Define Question Set and Question Lookup Tables</a></h4>
      <div class="B_-_Body"><a name="5020096">Next you must add lookup tables: one for the answer container’s question sets and one for the answer container’s questions. </a></div>
      <h6 class="HS_-_Head_Sub"><a name="5020097">To define question set and question lookup tables</a></h6>
      <div class="LS_-_List_Start_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LS_-_List_Start_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	1.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LS_-_List_Start_inner"><a name="5010727">Use the Project window in Studio to navigate to </a><span class="uis_-_UI_element_Studio">configuration</span><span class="ui_-_UI_element"> → </span><span class="uis_-_UI_element_Studio">config</span><span class="ui_-_UI_element"> → </span><span class="uis_-_UI_element_Studio">lookuptables</span> and open <span class="cv_-_computer_voice">lookuptables.xml</span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	2.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="5010728">Add two new </a><span class="cv_-_computer_voice">LookupTable</span> elements in the <span class="cv_-_computer_voice">Question/QuestionSet Lookup Tables</span> section of the file, one for question sets and one for questions.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LP_-_List_Para"><a name="5010906">For example, if you are configuring account-level questions, add </a><span class="cv_-_computer_voice">&lt;AccountQuestionSetLookup ... /&gt;</span> and <span class="cv_-_computer_voice">&lt;AccountQuestionLookup... /&gt;</span> elements. Set the <span class="cv_-_computer_voice">root</span> element to <span class="cv_-_computer_voice">"Account"</span> and add the appropriate <span class="cv_-_computer_voice">Dimension</span> element attributes.</div>
      <PRE class="CF_-_Code_First_Line"><a name="5011762">&nbsp;&nbsp;&lt;LookupTable code="AccountQuestionSetLookup" entityName="QuestionSetLookup" root="Account"&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="5011763">&nbsp;&nbsp;&nbsp;&nbsp;&lt;Dimension field="State" valuePath="Account.AccountHolderContact.PrimaryAddress.State"</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="5011810">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;precedence="0"/&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="5011764">&nbsp;&nbsp;&nbsp;&nbsp;&lt;Dimension field="IndustryCode" valuePath="Account.IndustryCode" precedence="1"/&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="5011765">&nbsp;&nbsp;&nbsp;&nbsp;&lt;DistinguishingField field="QuestionSetCode"/&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="5011766">&nbsp;&nbsp;&lt;/LookupTable&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="5011767">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="5011768">&nbsp;&nbsp;&lt;LookupTable code="AccountQuestionLookup" entityName="QuestionLookup" root="Account"&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="5011850">&nbsp;&nbsp;&nbsp;&nbsp;&lt;Dimension field="State" valuePath="Account.AccountHolderContact.PrimaryAddress.State"</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="5011851">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;precedence="0"/&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="5011852">&nbsp;&nbsp;&nbsp;&nbsp;&lt;DistinguishingField field="QuestionCode"/&gt;</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="5011771">&nbsp;&nbsp;&lt;/LookupTable&gt;</a></PRE>
      <div class="LP_-_List_Para"><a name="5011081">For guidance, examine the question set and question set elements already defined in </a><span class="cv_-_computer_voice">lookuptables.xml</span>, such as <span class="cv_-_computer_voice">LocationQuestionSetLookup</span> and <span class="cv_-_computer_voice">LocationQuestionLookup</span>.</div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	3.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="5020501">Restart Studio to load the new lookup table elements.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <h4 class="H2_-_Heading_2"><a name="5017156">Step 4: Define Question Set and Questions</a></h4>
      <div class="B_-_Body"><a name="5012038">Now that you have configured an answer container and the necessary lookup tables, you can define the actual question set and questions to use.</a></div>
      <h6 class="HS_-_Head_Sub"><a name="5012736">To define a question set and questions</a></h6>
      <div class="LS_-_List_Start_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LS_-_List_Start_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	1.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LS_-_List_Start_inner"><a name="5051506">In the Product Designer navigation panel, select the </a><span class="uid_-_UI_element_Designer">Question Sets</span><span class="ui_-_UI_element"> </span>node.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	2.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="5051507">At the top of the </a><span class="uid_-_UI_element_Designer">Question Sets</span> page, click <span class="uid_-_UI_element_Designer">Add</span> to open the <span class="uid_-_UI_element_Designer">Add Question Set</span> dialog box.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	3.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="5012915">Add a new question set, following the detailed instructions in </a><a href="javascript:WWHClickedPopup('productmodel', 'questionsets.07.04.html#5031321', '');" title="Adding a New Question Set">“Adding a New Question Set”</a>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LP_-_List_Para"><a name="5051656">For example, if you are defining a new account-level question set, select an answer container type of </a><span class="uid_-_UI_element_Designer">Account</span>.</div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	4.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="5051722">Continue following the detailed instructions in </a><a href="javascript:WWHClickedPopup('productmodel', 'questionsets.07.03.html#5010135', '');" title="Configuring Question Sets in Product Designer">“Configuring Question Sets in Product Designer”</a> to define individual questions and configure all other aspects of your new question set.</div>
            </td>
          </tr>
        </table>
      </div>
      <h4 class="H2_-_Heading_2"><a name="5051724">Step 5: Define the User Interface to Display the Question Set</a></h4>
      <div class="B_-_Body"><a name="5013942">At this point, you have defined an answer container of the appropriate type, added the needed lookup tables, and defined at least one question set and the questions it contains. Next you must define a PCF page to display the question set to the user.</a></div>
      <h6 class="HS_-_Head_Sub"><a name="5013843">To define a PCF page to display the question set</a></h6>
      <div class="LS_-_List_Start_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LS_-_List_Start_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	1.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LS_-_List_Start_inner"><a name="5015857">Configure a new PCF page to display the question set.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	2.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="5015927">Add a variable to the PCF page to reference the question set to display.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LP_-_List_Para"><a name="5016018">For example, to display an account-level question set named </a><span class="cv_-_computer_voice">accountQuestionSet</span>, add a variable named <span class="cv_-_computer_voice">accountQuestionSets</span> with an initial value of <span class="cv_-_computer_voice">account.getQuestionSets()</span>.</div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	3.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="5016333">In the </a><span class="cv_-_computer_voice">afterEnter</span> attribute of the PCF page, call</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="CS_-_Code_Single_Line"><a name="5016334">&nbsp;&nbsp;ProductModelSyncIssueHandler.syncQuestions</a></div>
      <div class="LP_-_List_Para"><a name="5016521">For example, to display an account-level question set, enter the following code in the </a><span class="cv_-_computer_voice">afterEnter</span> attribute:</div>
      <PRE class="CF_-_Code_First_Line"><a name="5016522">&nbsp;&nbsp;gw.web.productmodel.ProductModelSyncIssuesHandler.syncQuestions({account as AnswerContainer},</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="5016533">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;accountQuestionSets, null)</a></PRE>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	4.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="5016335">Add a </a><span class="cv_-_computer_voice">PanelRef</span> on the PCF page that points to the <span class="cv_-_computer_voice">QuestionSetsDV</span> detail view.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LP_-_List_Para"><a name="5016934">For example, to display an account-level question set, add a </a><span class="cv_-_computer_voice">PanelRef</span> that points to</div>
      <div class="CS_-_Code_Single_Line"><a name="5016935">&nbsp;&nbsp;QuestionSetsDV(accountQuestionsSets, account, null)</a></div>
      <div class="B_-_Body"><a name="5051523">If the new question set is only for information-gathering purposes, you are finished. If you want the new question set to trigger underwriting issues, follow the instructions in </a><a href="javascript:WWHClickedPopup('productmodel', 'questionsets.07.13.html#5051528', '');" title="Defining Answer Containers and Question Sets for Other Entities">“Step 6: Configuring an Answer Container to Trigger Underwriting Issues”</a>.</div>
      <h4 class="H2_-_Heading_2"><a name="5051528">Step 6: Configuring an Answer Container to Trigger Underwriting Issues</a></h4>
      <div class="B_-_Body"><a name="5017893">Question sets can be used for several different purposes, one of which is raising underwriting issues. If you are configuring a question set to raise underwriting issues, you must perform some additional steps.</a></div>
      <h6 class="HS_-_Head_Sub"><a name="5017592">To configure an answer container to trigger underwriting issues</a></h6>
      <div class="LS_-_List_Start_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LS_-_List_Start_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	1.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LS_-_List_Start_inner"><a name="5017539">In the </a><span class="cv_-_computer_voice">autoRaiseIssuesForQuestions</span> method in <span class="cv_-_computer_voice">QuestionIssueAutoRaiser</span> class, get all available question sets for all the instances of the new answer container type. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	2.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="5020929">For each instance of the new answer container type, call the following function:</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="CS_-_Code_Single_Line"><a name="5022038">&nbsp;&nbsp;raiseIssuesForQuestionSets(</a><span class="pc_-_parameter_in_code">entity</span>.getAvailableQuestionSets(<span class="pc_-_parameter_in_code">instance</span>), <span class="pc_-_parameter_in_code">instance</span>, context)</div>
      <div class="LP_-_List_Para"><a name="5022039">For example, to trigger underwriting issues for an account level answer container where there is only one instance of account in a given context (job):</a></div>
      <div class="CS_-_Code_Single_Line"><a name="5021085">&nbsp;&nbsp;raiseIssuesForQuestionSets(getAvailableAccountQuestionSets(account), account, context)</a></div>
      <div class="LP_-_List_Para"><a name="5021433">In this example, </a><span class="cv_-_computer_voice">account</span> is an instance of type <span class="cv_-_computer_voice">Account</span>.</div>
      <div class="LP_-_List_Para"><a name="5021663">In situations where there are multiple instances of the answer container type in a given context, the function needs to raise issues for each instance. For example, when triggering underwriting issues on a policy line question set:</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="5021953">&nbsp;&nbsp;for (line in period.Lines) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="5021954">&nbsp;&nbsp;&nbsp;&nbsp;raiseIssuesForQuestionSets(product.getAvailableQuestionSets(line), line, context)  </a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="5021949">}</a></PRE>
      <div class="B_-_Body"><a name="5021441">For guidance, examine the functions for handling period, line, and location questions sets in </a><span class="cv_-_computer_voice">QuestionIssueAutoRaiser.gs</span>. For more information about how to configure answers to raise underwriting issues, see <a href="javascript:WWHClickedPopup('productmodel', 'questionsets.07.02.html#5010100', '');" title="Question Set Basics">“Incorrect Answers”</a>.</div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>