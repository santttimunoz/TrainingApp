<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Assignment Success or Failure</title>
    <link rel="StyleSheet" href="css/assignment_pc.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>PolicyCenter Rules Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="p-rules_advanced.html#15833784">Advanced Topics</a> : <a class="WebWorks_Breadcrumb_Link" href="assignment_pc.12.01.html#15833784">Assignment in PolicyCenter</a> : Assignment Success or Failure</span></div>
    <hr align="left" />
    <blockquote>
      <h3 class="H1_-_Heading_1"><a name="15833784">Assignment Success or Failure</a></h3>
      <div class="BKN_-_Body_002c_Keep_Next"><a name="15831430">All assignment methods return a </a><span class="cv_-_computer_voice">Boolean</span> value that is <span class="cv_-_computer_voice">true</span> if PolicyCenter successfully makes an assignment, and <span class="cv_-_computer_voice">false</span> otherwise. It is your responsibility to determine what to do if PolicyCenter does not make an assignment. You can, for example, assign the item to the group supervisor or invoke another assignment method.</div>
      <div class="NI_-_Note_Important">
        <span class="n_-_note">IMPORTANT   </span><a name="15831433">Do not attempt to make direct assignments to </a><span class="cv_-_computer_voice">defaultowner</span>.</div>
      <h6 class="HS_-_Head_Sub"><a name="15676789">Activity Assignment to Roles</a></h6>
      <div class="B_-_Body"><a name="16064785">To assign activities to roles, PolicyCenter uses </a><span class="cv_-_computer_voice">AssignmentUtil.DefaultUser</span> as the default user to use if the assignment fails. You can modify <span class="cv_-_computer_voice">AssignmentUtil.DefaultUser</span> to change the default user throughout ­PolicyCenter. You can also modify individual PCF files to use a different default user than <span class="cv_-_computer_voice">AssignmentUtil.DefaultUser</span>. </div>
      <h6 class="HS_-_Head_Sub"><a name="16064784">Determining Success or Failure</a></h6>
      <div class="B_-_Body"><a name="15677260">Guidewire recommends that you always determine if the assignment actually succeeded. In general, if you call an assignment method directly and it is successful, then you need do nothing further. However, you need to take care if you call an assignment method that simply assigns the item to a group (one of the </a><span class="cv_-_computer_voice">assignGroup</span> methods, for example). In this case, it might be necessary to call another assignment method to assign the item to an actual user.</div>
      <h6 class="HS_-_Head_Sub"><a name="15677865">Logging Assignment Activity</a></h6>
      <div class="BKN_-_Body_002c_Keep_Next"><a name="15772820">Guidewire recommends also that you log the action any time that you use one of the assignment methods. Class </a><span class="cv_-_computer_voice">gw.assignment.AsssignmentUtil</span> provides several helper methods for logging assignment changes. These include the following:</div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt; margin-bottom: 2.0pt; vertical-align: baseline">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap; color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none"><span class="cv_-_computer_voice"><a name="15835194">assignAndLogUserRole</a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt; margin-bottom: 2.0pt; vertical-align: baseline">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap; color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none"><span class="cv_-_computer_voice"><a name="15835208">logUserRoleAssignment</a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="15835195">To see examples of the use of these logging methods, see </a><span class="cv_-_computer_voice">JobAssignmentEnhancement</span> in the same package. For example, the following method uses <span class="cv_-_computer_voice">assignAndLogUserRole</span> to log information about the assignment process:</div>
      <PRE class="CF_-_Code_First_Line"><a name="15835286">/**</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="15835287">&nbsp;* Assign roles from the Policy to the Job</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="15835288">&nbsp;*/</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="15835434">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="15835289">function assignRolesFromPolicy() {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="15835290">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="15835291">&nbsp;&nbsp;var producer = this.Policy.getUserRoleAssignmentByRole( "producer" )</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="15835292">&nbsp;&nbsp;if (producer != null) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="15835293">&nbsp;&nbsp;&nbsp;&nbsp;AssignmentUtil.assignAndLogUserRole( this, producer.AssignedUser, producer.AssignedGroup,</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="15835425">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"producer", "Job.assignRolesFromPolicy()" )</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="15835295">&nbsp;&nbsp;}</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="15835296">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="15835297">&nbsp;&nbsp;var underwriter = this.Policy.getUserRoleAssignmentByRole( "underwriter" )</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="15835298">&nbsp;&nbsp;if (underwriter != null) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="15835390">&nbsp;&nbsp;&nbsp;&nbsp;AssignmentUtil.assignAndLogUserRole( this, underwriter.AssignedUser, underwriter.AssignedGroup,</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="15835430">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"underwriter", "Job.assignRolesFromPolicy()" )</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="15835301">&nbsp;&nbsp;}</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="15835281">}</a></PRE>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>