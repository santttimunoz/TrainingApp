<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Guidewire Profiler</title>
    <link rel="StyleSheet" href="css/maintenance.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>PolicyCenter System Administration Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="maintenance.13.01.html#1618146">Using Server and Internal Tools</a> : <a class="WebWorks_Breadcrumb_Link" href="maintenance.13.02.html#1618146">Using the Server Tools</a> : Guidewire Profiler</span></div>
    <hr align="left" />
    <blockquote>
      <h4 class="H2B_-_Heading_2_Break"><a name="1618146">Guidewire Profiler</a></h4>
      <div class="B_-_Body"><a name="1618147">The Guidewire Profiler provides information about the runtime performance of code. The Guidewire Profiler collects information for specific sections of code that can be defined by Guidewire developers and configured, to some extent, for specific implementations.</a></div>
      <div class="B_-_Body"><a name="1618148">The Guidewire Profiler does not collect memory usage statistics. You can use a third-party tool to gather memory usage and garbage collection information. See </a><a href="javascript:WWHClickedPopup('admin', 'mngservers.07.12.html#1618365', '');" title="Analyzing Server Memory Management">“Analyzing Server Memory Management”</a>.</div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="1618152">Guidewire Profiler Terms and Concepts</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="1618153">The following sample code introduces key concepts for understanding the Guidewire Profiler:</a></div>
      <div class="B_-_Body"><a name="1618154">In </a><span class="cv_-_computer_voice">ProfilerTag.java</span>:</div>
      <div class="CS_-_Code_Single_Line"><a name="1618155">ProfilerTag MYTAG = new ProfilerTag("MyTag");</a></div>
      <div class="B_-_Body"><a name="1618156">In </a><span class="cv_-_computer_voice">MyCode.java</span>:</div>
      <PRE class="CF_-_Code_First_Line"><a name="1618157">import gw.api.profiler.Profiler;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1618158">ProfilerFrame frame = Profiler.push(ProfilerTag.MYTAG);</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1618159">try {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1618160">&nbsp;&nbsp;myMethod(str);</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1618161">} finally {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1618162">&nbsp;&nbsp;&nbsp;&nbsp;Profiler.pop(frame);</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="1618163">}</a></PRE>
      <h6 class="HS_-_Head_Sub"><a name="1618164">Profiler Tag</a></h6>
      <div class="B_-_Body"><a name="1618165">Profiler tags represent sections of code that can be profiled by the Guidewire Profiler. A profiler tag is an alias for a piece of code in the Guidewire application for which you want to gather performance information.</a></div>
      <div class="B_-_Body"><a name="1618166">Profiler tags are represented in the code by instances of the </a><span class="cv_-_computer_voice">gw.api.profiler.ProfilerTag</span> class. The constructor for the <span class="cv_-_computer_voice">ProfilerTag</span> takes a <span class="cv_-_computer_voice">String</span> parameter defining the <span class="cv_-_computer_voice">ProfilerTag</span> name. In this example, the profiler tag has the name <span class="cv_-_computer_voice">MyTag</span> and corresponds to the code invoked by the method <span class="cv_-_computer_voice">myMethod</span>.</div>
      <div class="B_-_Body"><a name="1618167">It is better to create a static final </a><span class="cv_-_computer_voice">ProfilerTag</span> and preserve it, rather than create one each time you need it. Creating the tag incurs some slight performance cost.</div>
      <h6 class="HS_-_Head_Sub"><a name="1618168">Profiler Frame</a></h6>
      <div class="B_-_Body"><a name="1618169">A profiler frame contains information corresponding to a specific invocation of profiled code, such as its start and finish times. When </a><span class="cv_-_computer_voice">push()</span> is called on the profiler stack, a profiler frame is created and pushed onto the stack. When <span class="cv_-_computer_voice">pop()</span> is called on the profiler stack, the profiler frame is removed from the stack, but its information is stored so as to be available for future examination. Profiler frames are represented in the code by instances of <span class="cv_-_computer_voice">gw.api.profiler.ProfilerFrame</span>.</div>
      <h6 class="HS_-_Head_Sub"><a name="1618170">Profiler Stack</a></h6>
      <div class="B_-_Body"><a name="1618174">A profiler stack stores profiling information for a specific thread. See </a><a href="javascript:WWHClickedPopup('admin', 'maintenance.13.12.html#1618185', '');" title="Guidewire Profiler">“Entry Points”</a>. A profiler stack implements the standard <span class="cv_-_computer_voice">push()</span> and <span class="cv_-_computer_voice">pop()</span> functionality of a stack. The <span class="cv_-_computer_voice">push</span> and <span class="cv_-_computer_voice">pop</span> correspond to the beginning and end, respectively, of a piece of code represented by a profiler tag. Thus, at any time the current contents of the profiler stack reflect all profiler tags whose code is currently being executed. Profiler stacks are represented in the code by instances of <span class="cv_-_computer_voice">gw.api.profiler.ProfilerStack</span>.</div>
      <div class="B_-_Body"><a name="1618175">If a profiler stack has been initialized for the current thread, the call to </a><span class="cv_-_computer_voice">Profiler.push(ProfilerTag.MYTAG)</span> pushes a new frame with tag <span class="cv_-_computer_voice">MYTAG</span> on to that profiler stack. Otherwise, the call has no effect.</div>
      <div class="B_-_Body"><a name="1618176">Similarly, </a><span class="cv_-_computer_voice">Profiler.pop(frame)</span> is just a pass-through to calling <span class="cv_-_computer_voice">pop()</span> on the profiler stack of the current thread.</div>
      <h6 class="HS_-_Head_Sub"><a name="1618177">Properties and Counters on a Frame</a></h6>
      <div class="B_-_Body"><a name="1618178">Profiler frames can hold user-defined properties and counters that provide more information about system events. Consider this example: </a></div>
      <PRE class="CF_-_Code_First_Line"><a name="1618179">frame.setPropertyValue("PARAMETER", str);</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1618180">int ret = myMethod(str);</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="1618181">frame.setCounterValue("RETURN", ret);</a></PRE>
      <div class="B_-_Body"><a name="1618182">When the profiler frame is popped off the stack, the frame contains information about which parameter was passed to </a><span class="cv_-_computer_voice">myMethod()</span> and the return value. Currently, properties and counters are used, among other things, to record SQL being executed, parameters to that SQL, row count returned, which rule is being executed, and so forth.</div>
      <div class="N_-_Note">
        <span class="n_-_note">Note: </span><a name="1618183">Exercise care when using this feature. Storing too much information will cause the display to become too cluttered, require more space for storage and, for long-running processes, hold on to too much memory at runtime.</a></div>
      <h6 class="HS_-_Head_Sub"><a name="1618185">Entry Points</a></h6>
      <div class="B_-_Body"><a name="1618186">The following entry points can initiate work on the application server:</a></div>
      <div class="T_-_Table"><a name="1618234">&nbsp;</a></div>
      <table class="Shading" style="text-align: left" border="0" cellpadding="10" cellspacing="0" summary="">
        <caption></caption>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: bottom">
            <div class="TH_-_Table_Heading"><a name="1618189">Entry point</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: bottom">
            <div class="TH_-_Table_Heading"><a name="1618191">Description</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="1618193">Web</a></div>
          </td>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="1618195">A user clicks around in a browser. </a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="1618197">Batch process</a></div>
          </td>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="1618201">Batch processes wake up at regular intervals, and can execute large queries. See </a><a href="javascript:WWHClickedPopup('admin', 'batch.11.01.html#2165605', '');" title="Batch Processing">“Batch Processing”</a>.</div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="1618204">Work queue</a></div>
          </td>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="1618206">Long running processes that pick up work to be done from a queue. These processes are typically distributed across several servers. See </a><a href="javascript:WWHClickedPopup('admin', 'batch.11.01.html#2165605', '');" title="Batch Processing">“Batch Processing”</a>.</div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="1618211">Message destination</a></div>
          </td>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="1618215">The process that sends messages out. See </a><a href="javascript:WWHClickedPopup('integration', 'eventsmessaging.24.01.html#4197044', '');" title="Messaging and Events">“Messaging and Events” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('integration', 'eventsmessaging.24.01.html#4197044', '');" title="Messaging and Events">Integration Guide</a></span>.</div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="1618218">Web service</a></div>
          </td>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="1618225">SOAP requests received by PolicyCenter. See </a><a href="javascript:WWHClickedPopup('integration', 'p-webservices.html#1012431', '');" title="Web Services">“Web Services” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('integration', 'p-webservices.html#1012431', '');" title="Web Services">Integration Guide</a></span>.</div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="1618228">Startable plugin</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="1618230">You can create a plugin that is initialized at server startup and deinitialized at server shutdown. For example, a startable plugin can be registered as a listener on a JMS queue. See </a><a href="javascript:WWHClickedPopup('integration', 'plugins-startable.21.2.html#2422299', '');" title="Startable Plugins Overview">“Startable Plugins Overview” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('integration', 'plugins-startable.21.2.html#2422299', '');" title="Startable Plugins Overview">Integration Guide</a></span>.</div>
          </td>
        </tr>
      </table>
      <div class="B_-_Body"><a name="1618235">The Guidewire Profiler provides a unified means of configuration for profiling these entry points and also provides a unified way of accessing Guidewire Profiler data.</a></div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="1618236">Configuring the Profiler</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="1618237">Configure the Guidewire Profiler on the </a><span class="ui_-_UI_element">Configuration</span> tab of the Guidewire Profiler page.</div>
      <div class="B_-_Body"><a name="1618238">You can choose to enable or disable profiling for specific entry points. Except for Web entry points, configuration information is stored in the database and is visible to all application servers in the cluster. Note that any changes will take some time to propagate through the cluster and it may take up to the cache stale time for a change to become visible.</a></div>
      <div class="B_-_Body"><a name="1618239">The next time the entry point is started, the Guidewire Profiler checks whether profiling is enabled for the entry point. If profiling is enabled, profiling data is recorded in the form of a profiler stack. Multiple stacks are recorded if the initial thread spawns more and the developer profiles the spawned threads. Except for Web, this data is persisted to the database and can be later retrieved.</a></div>
      <div class="B_-_Body"><a name="1618240">For Web entry points, profiling can only be enabled for the current session. On the </a><span class="ui_-_UI_element">Configuration</span> tab, click <span class="ui_-_UI_element">Enable Web Profiling for this Session</span> to enable profiling for the current session. All subsequent round-trips to the server will be recorded as a separate profiler stack. As opposed to stacks from other types of entry points, stacks from Web requests are not persisted to the database. Instead, stacks from Web requests are stored in the user session. Guidewire recommends that you enable the Web profiler only when it is needed. Enable the profiler, exercise the pages that you want to profile and then disable the profiler. Furthermore, log out after the profiler data has been analyzed to free memory used by the profiler.</div>
      <h6 class="HS_-_Head_Sub"><a name="1618241">Additional Tracing</a></h6>
      <div class="B_-_Body"><a name="1618242">You can enable additional tracing options. These options are quite expensive to compute. Guidewire recommends that you narrow down your performance issues first before trying these options.</a></div>
      <div class="T_-_Table"><a name="1618273">&nbsp;</a></div>
      <table class="Shading" style="text-align: left" border="0" cellpadding="10" cellspacing="0" summary="">
        <caption></caption>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: bottom">
            <div class="TH_-_Table_Heading"><a name="1618245">Tracing option</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: bottom">
            <div class="TH_-_Table_Heading"><a name="1618247">Description</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Arial Narrow&quot;; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span class="uit_-_UI_element_table"><a name="1618249">Individual Stacks</a></span></div>
          </td>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="1618251">Only available for work queue entry points. When checked, this stores one stack per work item and does not roll up the data. </a></div>
            <div class="TT_-_Table_Text"><a name="1618252">Use caution with the </a><span class="uit_-_UI_element_table">Individual Stacks</span> option as the amount of data to store could be unbounded. The <span class="uit_-_UI_element_table">Individual Stacks</span> option is recommended for use when there are only a few items in the queue. </div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Arial Narrow&quot;; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span class="uit_-_UI_element_table"><a name="1618254">Stack Trace Tracking</a></span></div>
          </td>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="1618256">Captures the Java stack trace and the PCF trace at the point where a query is executed.</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Arial Narrow&quot;; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span class="uit_-_UI_element_table"><a name="1618258">Query Optimizer Tracing</a></span></div>
          </td>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="1618260">Oracle only. This trace indicates how the database arrived at a specific execution path. This creates a trace file on the database server.</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Arial Narrow&quot;; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span class="uit_-_UI_element_table"><a name="1618262">Extended Query Tracing</a></span></div>
          </td>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="1618264">Oracle only. This trace tracks the entire parse-execute-fetch of an SQL statement including what it is waiting on, if anything. This creates a trace file on the database server.</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Arial Narrow&quot;; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span class="uit_-_UI_element_table"><a name="1618266">Diff DBMS Instrumentation Counters</a></span></div>
          </td>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="1618268">Oracle only. Enable this option to capture the DBMS counters at the beginning of the profiling session and to include analysis of the differences in the DBMS-specific report.</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Arial Narrow&quot;; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span class="uit_-_UI_element_table"><a name="1618270">DBMS Instrumentation Capture Threshold for each Action (millis)</a></span></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="1618272">Oracle only. The profiler generates a DBMS report if an action exceeds the threshold value set by this option. Set this threshold after you enable </a><span class="uit_-_UI_element_table">Diff DBMS Instrumentation Counters</span>.</div>
          </td>
        </tr>
      </table>
      <h6 class="HS_-_Head_Sub"><a name="1618274">ProfilerAPI</a></h6>
      <div class="B_-_Body"><a name="1618275">You can use the </a><span class="cv_-_computer_voice">ProfilerAPI</span> web service to configure the profiler from an external system. In addition to enabling and disabling profiling for the various entry points, you can enable Web profiling on all subsequent sessions. This API does not provide the ability to profile a specific session or to profile active sessions. See <a href="javascript:WWHClickedPopup('integration', 'webservices-general.09.7.html#3399565', '');" title="Profiling Web Services">“Profiling Web Services” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('integration', 'webservices-general.09.7.html#3399565', '');" title="Profiling Web Services">Integration Guide</a></span>.</div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="1618279">Analyzing Profiler Data</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="1618280">The Guidewire Profiler provides the following views of profiler data.</a></div>
      <div class="T_-_Table"><a name="1618331">&nbsp;</a></div>
      <table class="Shading" style="text-align: left" border="0" cellpadding="10" cellspacing="0" summary="">
        <caption></caption>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: bottom">
            <div class="TH_-_Table_Heading"><a name="1618283">View Type</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: bottom">
            <div class="TH_-_Table_Heading"><a name="1618285">Result</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Arial Narrow&quot;; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span class="uit_-_UI_element_table"><a name="1618287">Stack Queries</a></span></div>
          </td>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="1618289">Lists the queries that were executed by each stack. The first list shows the stacks in the profiled session. The second shows the queries executed in that stack. More details can be obtained by clicking on each tab.</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Arial Narrow&quot;; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span class="uit_-_UI_element_table"><a name="1618291">Aggregated Queries</a></span></div>
          </td>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="1618293">Lists all queries executed as part of the profiled session and some statistics about them, including number of times executed, average time, and more.</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Arial Narrow&quot;; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span class="uit_-_UI_element_table"><a name="1618295">Search by Query</a></span></div>
          </td>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="1618297">Searches the session for a query. This view enables you to determine the source of a particular query. Paste in a query, for example from the AWR report, and click </a><span class="uit_-_UI_element_table">Search</span>. </div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Arial Narrow&quot;; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span class="uit_-_UI_element_table"><a name="1618299">Elapsed</a></span></div>
          </td>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="1618301">Lists each frame in chronological order within its stack along with the time in seconds between when PolicyCenter pushed and then popped the frame.</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Arial Narrow&quot;; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span class="uit_-_UI_element_table"><a name="1618306">Chrono</a></span></div>
          </td>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="1618308">Lists each frame in chronological order within its stack along with the time in seconds between PolicyCenter creating the stack and pushing the frame. See </a><a href="javascript:WWHClickedPopup('rules', 'rules_execution.10.4.html#16958001', '');" title="Viewing Rule Information in the Profiler Chrono Report">“Viewing Rule Information in the Profiler Chrono Report” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('rules', 'rules_execution.10.4.html#16958001', '');" title="Viewing Rule Information in the Profiler Chrono Report">Rules Guide</a></span>.</div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Arial Narrow&quot;; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span class="uit_-_UI_element_table"><a name="1618313">Group Frames</a></span></div>
          </td>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="1618315">Lists frames in each stack aggregated by tag and presented in order of total aggregate time on the stack.</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Arial Narrow&quot;; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span class="uit_-_UI_element_table"><a name="1618317">Group Stacks</a></span></div>
          </td>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="1618319">Similar to </a><span class="uit_-_UI_element_table">Group Frames</span>, except the Profiler aggregates the frames across all stacks in the session instead of by stack.</div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Arial Narrow&quot;; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span class="uit_-_UI_element_table"><a name="1618325">Rule Execution</a></span></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="1618327">Lists rules that fired during the session. If no rules fired during the session, the </a><span class="uit_-_UI_element_table">Profiler Result</span> pane contains the message “No profiler stacks found”. See <a href="javascript:WWHClickedPopup('rules', 'rules_execution.10.3.html#16850631', '');" title="Generating a Profiler Rule Execution Report">“Generating a Profiler Rule Execution Report” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('rules', 'rules_execution.10.3.html#16850631', '');" title="Generating a Profiler Rule Execution Report">Rules Guide</a></span>.</div>
          </td>
        </tr>
      </table>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="1618354">Downloading and Uploading Profiler Data</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="1618358">PolicyCenter serializes profiler data and stores it in the database in a different table for each entry point. You can download and upload profiler data as a ZIP file. To download profiler data, enable profiling for a particular entry point, select the </a><span class="ui_-_UI_element">Profiler Analysis</span> tab and then select the entry point. Then, click <span class="ui_-_UI_element">Download</span>.</div>
      <div class="B_-_Body"><a name="1618362">To upload a ZIP file of profiler data, select </a><span class="ui_-_UI_element">Profiler Analysis</span> → <span class="ui_-_UI_element">Saved File</span>. Then click <span class="ui_-_UI_element">Upload</span>.</div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="1618363">Profiling Custom Code</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="1618364">You can profile your custom code by using the Guidewire Profiler.</a></div>
      <h6 class="HS_-_Head_Sub"><a name="1618365">Creating New Profiler Tags</a></h6>
      <div class="B_-_Body"><a name="1618366">Define a new profiler tag to associate with the code that you want to profile. To do this, create a globally-accessible Gosu class that extends </a><span class="cv_-_computer_voice">gw.api.profiler.</span><span class="cv_-_computer_voice">P</span><span class="cv_-_computer_voice">CProfilerTag</span>. Within this class, define all of your custom profiler tags. Define these tags as constants. For example:</div>
      <PRE class="CF_-_Code_First_Line"><a name="1618367">static final ProfilerTag MYTAG = new ProfilerTag("MyTag");</a></PRE>
      <div class="B_-_Body"><a name="1618368">You use this class to describe the piece of code that you want to profile. put all their profiler tags as constants (static final) in one globally-accessible class. </a></div>
      <div class="B_-_Body"><a name="1618369">To profile a block of your custom code, use the following pattern to push and pop profiling information onto the profiler stack. This code works for both Gosu and Java. </a></div>
      <PRE class="CF_-_Code_First_Line"><a name="1618370">ProfilerFrame frame = Profiler.push(ProfilerTag.MYTAG);</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1618371">try {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1618372">&nbsp;&nbsp;/// CODE YOU WANT TO PROFILE</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1618373">} finally {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1618374">Profiler.pop(frame);</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="1618375">}</a></PRE>
      <h6 class="HS_-_Head_Sub"><a name="1618376">Profiling spawned threads</a></h6>
      <div class="B_-_Body"><a name="1618377">Some processes spread their workload across multiple threads. If you want to profile those threads, use the following pattern:</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="1618378">gw.api.profiler.Profiler.createPotentiallyProfiledRunnable(ProfilerTag entryPointTag,</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="1618379">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String entryPointDetail, GWRunnable block)</a></PRE>
      <div class="B_-_Body"><a name="1618380">This generates a new </a><span class="cv_-_computer_voice">Runnable</span> that executes the given block. This <span class="cv_-_computer_voice">Runnable</span> profiles the block if the calling thread is also being profiled. The stack for that thread is associated with the stack of the calling thread and persisted along with the stack of the calling thread. See the javadoc for the<span class="cv_-_computer_voice"> createPotentiallyProfiledRunnable </span>method for more details. </div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>