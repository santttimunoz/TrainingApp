<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Adding a New Value Formatter</title>
    <link rel="StyleSheet" href="css/uw_issues_config.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>PolicyCenter Configuration Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="p-PolicyCenter.html#1182883">Guidewire PolicyCenter Configuration</a> : <a class="WebWorks_Breadcrumb_Link" href="uw_issues_config.47.01.html#1182883">Configuring Underwriting Authority</a> : <a class="WebWorks_Breadcrumb_Link" href="uw_issues_config.47.03.html#1182883">Implementing Underwriting Authority</a> : Adding a New Value Formatter</span></div>
    <hr align="left" />
    <blockquote>
      <h4 class="H2B_-_Heading_2_Break"><a name="1182883">Adding a New Value Formatter</a></h4>
      <div class="B_-_Body"><a name="1187499">The default configuration of PolicyCenter provides formatters for currency, numbers, jurisdictions, age, units, and U.S. dollars. There is also a formatter that does not format the data. If the formatter you need is not provided in the default configuration, you can add new value formatters. You can also modify the existing value formatters. For more information, see </a><a href="javascript:WWHClickedPopup('config', 'uw_issues_config.47.20.html#1181011', '');" title="Underwriting Issue Type System Table">“Value Formatter”</a>.</div>
      <h6 class="HS_-_Head_Sub"><a name="1187516">To add a new value formatter</a></h6>
      <div class="LS_-_List_Start_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LS_-_List_Start_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	1.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LS_-_List_Start_inner"><a name="1187552">In Studio, edit the </a><span class="cv_-_computer_voice">ValueFormatterType</span> typelist. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	2.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="1187553">Add a new typekey entering a code, name, and description. </a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	3.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="1187554">Instantiate the formatter and link it to your new typekey. Write code to format the value.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LP_-_List_Para"><a name="1187555">In the default configuration, the value formatters are instantiated in the </a><span class="cv_-_computer_voice">ValueFormatter</span> class located in the <span class="cv_-_computer_voice">gw.job.uw</span> package. Add code to instantiate the value formatter for your new typekey. Also add code to format the value. For example, the following is the code for the <span class="cv_-_computer_voice">Integer</span> value formatter in the <span class="cv_-_computer_voice">ValueFormatter</span> class:</div>
      <div class="CS_-_Code_Single_Line"><a name="1187630">final public static var FOR_INTEGER : ValueFormatter = new ValueFormatter("Integer") {</a></div>
      <PRE class="CM_-_Code_Middle_Line"><a name="1187631">    override function format(value : String) : String {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1187632">      return formatInteger(value)</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1187633">    }</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="1187685">  }</a></PRE>
      <div class="LP_-_List_Para"><a name="1187686">The code </a><span class="cv_-_computer_voice">ValueFormatter = new ValueFormatter("Integer")</span> links the formatter to the <span class="cv_-_computer_voice">Integer</span> typekey. The <span class="cv_-_computer_voice">formatInteger</span> method formats the value.</div>
      <div class="LP_-_List_Para"><a name="1187687">If you prefer not to instantiate the value formatter in the </a><span class="cv_-_computer_voice">ValueFormatter</span> class, you can instantiate it in the location of your choice. However, the value formatter must be instantiated in a class that is guaranteed to load before PolicyCenter calls the <span class="cv_-_computer_voice">ValueFormatter.format</span> method. For example, you can instantiate your wrappers in a startable plugin which runs after loading the database, but before serving any web pages. For more information, see <a href="javascript:WWHClickedPopup('integration', 'plugins-startable.21.2.html#2422299', '');" title="Startable Plugins Overview">“Startable Plugins Overview” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('integration', 'plugins-startable.21.2.html#2422299', '');" title="Startable Plugins Overview">Integration Guide</a></span>.</div>
      <div class="NI_-_Note_Important">
        <span class="n_-_note">IMPORTANT   </span><a name="1187569">Failure to guarantee that the value formatter is instantiated before loading </a><span class="cv_-_computer_voice">ValueFormatter</span> may result in non-deterministic null pointer exceptions if <span class="cv_-_computer_voice">ValueFormatter.format</span> returns null for an extended typekey. </div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>