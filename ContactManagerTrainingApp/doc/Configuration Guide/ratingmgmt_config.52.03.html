<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Improving Rate Table Performance</title>
    <link rel="StyleSheet" href="css/ratingmgmt_config.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>PolicyCenter Configuration Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="p-PolicyCenter.html#1517924">Guidewire PolicyCenter Configuration</a> : <a class="WebWorks_Breadcrumb_Link" href="ratingmgmt_config.52.01.html#1517924">Configuring Rating Management</a> : Improving Rate Table Performance</span></div>
    <hr align="left" />
    <blockquote>
      <h3 class="H1_-_Heading_1"><a name="1517924">Improving Rate Table Performance</a></h3>
      <div class="B_-_Body"><a name="1517926">For each rate table, you can choose whether to load the table into memory or access it from the database. By default, PolicyCenter loads rate tables into memory. Loading the rate table in memory can provide quick access. Accessing the table on disk is slower, but loading a large table into memory may slow system performance even more.</a></div>
      <div class="B_-_Body"><a name="1517927">To decide whether or not to load the table into memory, consider how large the table will be and how often it will be referenced. Consider database lookup if:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="1517928">The table has multiple thousands of rows and is referenced infrequently. For example, referenced only on a small percentage of quotes.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="1517929">The table is very large (multiple tens of thousands of rows) and is only referenced once or twice per quote.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="1517930">For anything smaller, or for a table referenced numerous times to quote a policy, use memory lookup, if possible. Database lookup can result in significant slowdown.</a></div>
      <div class="B_-_Body"><a name="1517931">Rating management consults the lookup setting when promoting the rate book status from </a><span class="cv_-_computer_voice">Draft</span> to <span class="cv_-_computer_voice">Stage</span>. Therefore, you can only change the lookup setting when the rate book is in <span class="cv_-_computer_voice">Draft</span> status. </div>
      <div class="B_-_Body"><a name="1517932">A rate table can be included in multiple rate books but can have only one setting for lookup. You can only change the lookup setting in the first rate book that included the rate table, if it is in </a><span class="cv_-_computer_voice">Draft</span> status.</div>
      <div class="B_-_Body"><a name="1517933">Performance depends on the rate table content, not just the row count. For a table that is small enough to fit in memory, in-memory will usually outperform a call out to the database. For database-queried tables, if the query tends to hit the correct row every time, database performance is better than if the query frequently goes through the relaxing process. A query hitting on the first try usually corresponds to a table which is mostly filled out, with very few null values. On the other hand, you can expect relaxation to occur often if the table has many null values.</a></div>
      <h6 class="HS_-_Head_Sub"><a name="1517934">See also</a></h6>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('app', 'rate_table.55.03.html#1186412', '');" title="Rate Tables" name="1517938">“Rate Table Lookup in Memory or Database” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('app', 'rate_table.55.03.html#1186412', '');" title="Rate Tables">Application Guide</a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('app', 'rate_table_ui.56.07.html#1082315', '');" title="Rate Book Screen" name="1517942">“Including Rate Tables in a Rate Book” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('app', 'rate_table_ui.56.07.html#1082315', '');" title="Rate Book Screen">Application Guide</a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <h4 class="H2_-_Heading_2"><a name="1517943">Covering Index to Improve Performance</a></h4>
      <div class="B_-_Body"><a name="1517945">Doing repeated database queries against a generic physical table (such as </a><span class="cv_-_computer_voice">DefaultRateFactorRow</span>) can cause performance issues. </div>
      <div class="B_-_Body"><a name="1517946">If a rate table is large enough to warrant running the queries in the database, configure the physical table to have a custom row entity with a </a><span class="e_-_emphasis">covering index</span>. The covering index on the row entity includes the foreign key to the <span class="cv_-_computer_voice">RateTable</span> , the <span class="cv_-_computer_voice">Retired</span> property, and all parameters and factors.</div>
      <div class="B_-_Body"><a name="1517947">For example, you have a custom row entity, </a><span class="cv_-_computer_voice">CustomFactor</span>. This row contains properties for parameters named <span class="cv_-_computer_voice">OptCode</span> and <span class="cv_-_computer_voice">Jurisdiction</span>. The index for this row begins with the foreign key to rate table and <span class="cv_-_computer_voice">Retired</span>, followed by the parameters and factors:</div>
      <PRE class="CF_-_Code_First_Line"><a name="1517948">&lt;</a><span class="s_-_strong">index</span></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1517949">&nbsp;&nbsp;&nbsp; name="factorlookup"</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1517950">&nbsp;&nbsp;&nbsp; desc="Speeds lookup queries against this table."&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1517951">&nbsp;&nbsp;&nbsp; &lt;indexcol</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1517952">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; name="</a><span class="s_-_strong">RateTable</span>"</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1517953">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; keyposition="1"/&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1517954">&nbsp;&nbsp;&nbsp; &lt;indexcol</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1517955">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; name="</a><span class="s_-_strong">Retired</span>"</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1517956">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; keyposition="2"/&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1517957">&nbsp;&nbsp;&nbsp; &lt;indexcol</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1517958">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; name="</a><span class="s_-_strong">OptCode</span>"</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1517959">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; keyposition="5"/&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1517960">&nbsp;&nbsp;&nbsp; &lt;indexcol</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1517961">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; name="</a><span class="s_-_strong">Jurisdiction</span>"</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1517962">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; keyposition="6"/&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1517963">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; name="</a><span class="s_-_strong">Factor</span>"</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1517964">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; keyposition="7"/&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1517965">&nbsp; &lt;/index&gt;</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="1517966">&lt;/entity&gt;</a></PRE>
      <h6 class="HS_-_Head_Sub"><a name="1517967">See also</a></h6>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('app', 'rate_table.55.03.html#1186395', '');" title="Rate Tables" name="1517971">“Physical Tables and Entities for Rate Table Definitions” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('app', 'rate_table.55.03.html#1186395', '');" title="Rate Tables">Application Guide</a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('app', 'rate_table.55.03.html#1186406', '');" title="Rate Tables" name="1517975">“Custom Physical Tables” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('app', 'rate_table.55.03.html#1186406', '');" title="Rate Tables">Application Guide</a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>