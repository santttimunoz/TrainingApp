<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Adding a New Value Comparator</title>
    <link rel="StyleSheet" href="css/uw_issues_config.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>PolicyCenter Configuration Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="p-PolicyCenter.html#1182794">Guidewire PolicyCenter Configuration</a> : <a class="WebWorks_Breadcrumb_Link" href="uw_issues_config.47.01.html#1182794">Configuring Underwriting Authority</a> : <a class="WebWorks_Breadcrumb_Link" href="uw_issues_config.47.03.html#1182794">Implementing Underwriting Authority</a> : Adding a New Value Comparator</span></div>
    <hr align="left" />
    <blockquote>
      <h4 class="H2B_-_Heading_2_Break"><a name="1182794">Adding a New Value Comparator</a></h4>
      <div class="B_-_Body"><a name="1184152">You may need to add a new value comparator if:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="ri_-_run_in_header"><a name="1184155">The issue type needs to have an associated value </a></span>because different PolicyCenter users have authority to approve specific values or ranges of values. For example, issues of a certain type have an associated class code. PolicyCenter users can be authorized to approve issues within certain class code ranges. There is no existing value comparator for this type. Therefore, you need to create a new value comparator for this type, and implement Gosu code that determines whether one class code or range contains another class code range. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="ri_-_run_in_header"><a name="1184156">The existing comparators do not meet your needs</a></span> because: </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI2_-_Bullet_Item_002c_Level_2_outer" style="margin-left: 67pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner"><span class="ri_-_run_in_header"><a name="1184157">There is no comparator for this kind of data</a></span> – For example, you need a comparator that determines the manufacturer of a car based on the Vehicle Identification Number (VIN).</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI2_-_Bullet_Item_002c_Level_2_outer" style="margin-left: 67pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner"><span class="ri_-_run_in_header"><a name="1184158">There is no comparator that compares two values in the way that you require</a></span> – For example, there is a state set comparator. However, you need a comparator which determines if a jurisdiction is in the northern, southern, eastern, or western part of the country.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="1184163">Comparators are used to determined whether one value associated with some </a><span class="cv_-_computer_voice">UWIssueType</span> is within the bounds set by some other value. The comparator is used for two different comparisons: </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="1184165">Ensuring that an approval value is within a grant value.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="1184166">Ensuring that an issue value is within an approval value. </a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="1184167">Each new value comparator has a typekey in the </a><span class="cv_-_computer_voice">ValueComparator</span> typelist and a wrapper. There must be exactly one <span class="cv_-_computer_voice">UWIssueValueComparatorWrapper</span> for each <span class="cv_-_computer_voice">ValueComparator</span> and one <span class="cv_-_computer_voice">ValueComparator</span> for each <span class="cv_-_computer_voice">UWIssueValueComparatorWrapper</span>. When you instantiate the wrapper, you specify the associated <span class="cv_-_computer_voice">ValueComparator</span>. There is a two-way association between typekey and wrapper. </div>
      <div class="B_-_Body"><a name="1188207">For more information, see </a><a href="javascript:WWHClickedPopup('config', 'uw_issues_config.47.19.html#1252628', '');" title="Comparing Issue Values">“Comparing Issue Values”</a> and <a href="javascript:WWHClickedPopup('config', 'uw_issues_config.47.20.html#1181001', '');" title="Underwriting Issue Type System Table">“Comparator”</a>.</div>
      <h6 class="HS_-_Head_Sub"><a name="1184179">To add a value comparator</a></h6>
      <div class="LS_-_List_Start_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LS_-_List_Start_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	1.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LS_-_List_Start_inner"><a name="1184180">In Studio, edit the </a><span class="cv_-_computer_voice">ValueComparator</span> typelist. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	2.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="1186651">Add a new typekey entering a code, name, and description. </a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	3.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="1184181">Instantiate a wrapper for your new typekey.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LP_-_List_Para"><a name="1190505">In the default configuration, the wrappers are instantiated in the </a><span class="cv_-_computer_voice">UWIssueValueComparatorWrapper</span> class located in the <span class="cv_-_computer_voice">gw.job.uw</span> package. Add code to instantiate a wrapper for your new typekey. Examples in the default configuration can be seen at the top of the file:</div>
      <PRE class="CF_-_Code_First_Line"><a name="1190558">// The wrappers for the various OOTB ValueComparators</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1190560">static final var _ge : UWIssueValueComparatorWrapper as readonly NumericGEWrapper</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="1190546">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= new NumericGEValueComparatorWrapper("Numeric_GE")</a></PRE>
      <div class="LP_-_List_Para"><a name="1190536">If you prefer not to instantiate the wrapper in </a><span class="cv_-_computer_voice">UWIssueValueComparatorWrapper</span>, you can instantiate the wrapper in the location of your choice. However, the wrapper must be instantiated in a class that loads before PolicyCenter calls <span class="cv_-_computer_voice">UWIssueValueComparatorWrapper.wrap</span>. For example, you can instantiate your wrappers in a startable plugin which runs after loading the database, but before serving any web pages. For more information, see <a href="javascript:WWHClickedPopup('integration', 'plugins-startable.21.2.html#2422299', '');" title="Startable Plugins Overview">“Startable Plugins Overview” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('integration', 'plugins-startable.21.2.html#2422299', '');" title="Startable Plugins Overview">Integration Guide</a></span>.</div>
      <div class="NI_-_Note_Important">
        <span class="n_-_note">IMPORTANT   </span><a name="1186760">Failure to guarantee that PolicyCenter instantiates the wrapper before loading </a><span class="cv_-_computer_voice">UWIssueValueComparatorWrapper</span> may result in non-deterministic null pointer exceptions if <span class="cv_-_computer_voice">UWIssueValueComparatorWrapper</span> returns null for an extended typekey. </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	4.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="1184185">Instantiate a new extension to </a><span class="cv_-_computer_voice">UWIssueValueComparatorWrapper</span> for your typekey in the <span class="cv_-_computer_voice">gw.job.uw.comparators</span> package. You can use existing comparators as an example.</div>
            </td>
          </tr>
        </table>
      </div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>