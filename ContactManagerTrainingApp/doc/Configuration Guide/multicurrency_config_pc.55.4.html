<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Configuring the Settlement Currency</title>
    <link rel="StyleSheet" href="css/multicurrency_config_pc.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>PolicyCenter Configuration Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="p-PolicyCenter.html#1123427">Guidewire PolicyCenter Configuration</a> : <a class="WebWorks_Breadcrumb_Link" href="multicurrency_config_pc.55.1.html#1123427">Configuring Multicurrency</a> : Configuring the Settlement Currency</span></div>
    <hr align="left" />
    <blockquote>
      <h3 class="H1_-_Heading_1"><a name="1123427">Configuring the Settlement Currency</a></h3>
      <div class="B_-_Body"><a name="1123428">This topic describes Gosu classes and object related to the settlement currency. The settlement currency is used in billing. In the base configuration, the contact, account, policy period objects have a settlement currency property.</a></div>
      <h4 class="H2_-_Heading_2"><a name="1134940">Settlement Currency in Contacts</a></h4>
      <div class="B_-_Body"><a name="1172848">Contacts have a preferred settlement currency. The preferred settlement currency on contact is in the </a><span class="cv_-_computer_voice">Contact.PreferredSettlementCurrency</span> property. PolicyCenter initializes the preferred settlement currency in the <span class="cv_-_computer_voice">gw.account.AccountBaseEnhancement</span> class. </div>
      <div class="B_-_Body"><a name="1172849">In the base configuration, the preferred settlement currency is based on the primary address of the contract. For example, if the primary address is in California, which is in the United States, then PolicyCenter sets the currency to U.S. dollars. The </a><span class="cv_-_computer_voice">createAccountForContact</span> method sets the preferred settlement currency.</div>
      <div class="B_-_Body"><a name="1136253">In the base configuration, the jurisdiction on the address maps to a country, and each country has a currency. However, if for some reason an address does not map to a currency, the </a><span class="cv_-_computer_voice">createAccountForContact</span> method initializes this property to the system default currency. A properly configured system always specifies the currency and does not rely on this fail-safe behavior.</div>
      <div class="B_-_Body"><a name="1123431">The </a><span class="cv_-_computer_voice">ContactCurrencyInitializer</span> class contains methods for editing the currency for a contact. PCF files that enable a user to edit the currency for a contact use these methods. The <span class="cv_-_computer_voice">ContactCurrencyInputSet</span> PCF file uses this class to set the <span class="ui_-_UI_element">Preferred Currency</span> for a contact. You can see an example of this <span class="ui_-_UI_element">Preferred Currency</span> field when you view a contact on the <span class="ui_-_UI_element">Contact File Details</span> screen.</div>
      <div class="B_-_Body"><a name="1123433">The </a><span class="ui_-_UI_element">Account Holder Info</span> screen uses the preferred settlement currency on the contact to aggregate policy, claim, and billing metrics and display them in the settlement currency. The contact’s preferred settlement currency becomes the default settlement currency for an account created from that contact. </div>
      <h4 class="H2_-_Heading_2"><a name="1123434">Settlement Currency in Accounts</a></h4>
      <div class="B_-_Body"><a name="1123436">Accounts have a preferred settlement currency. The preferred settlement currency on account is in the </a><span class="cv_-_computer_voice">Account.PreferredSettlementCurrency</span> property. To create a new account with the given contact as the account holder, you can use the <span class="cv_-_computer_voice">createAccountForContact</span> method in <span class="cv_-_computer_voice">gw.account.AccountBaseEnhancement</span>. In the base configuration, this method initializes the account’s preferred settlement currency based on the contact’s primary address. The code assumes that if the coverage currency is set, the settlement currency is also set. </div>
      <div class="B_-_Body"><a name="1135367">In the base configuration, the jurisdiction on the address maps to a country, and each country has a currency. For the rare jurisdiction that does not have a country, you can specify the currency directly for that jurisdiction. Map the jurisdiction to currency in the definition of the jurisdiction and country typekeys. For an example, see the typecode for Guam in the </a><span class="cv_-_computer_voice">Jurisdiction.ttx</span> typelist extension. However, if for some reason an address does not map to a currency, the <span class="cv_-_computer_voice">createAccountForContact</span> method initializes this property to the system default currency. A properly configured system always specifies the currency and does not rely on this fail-safe behavior.</div>
      <div class="B_-_Body"><a name="1135368">When the account is initially created, the country of the account’s address determines the preferred settlement currency. Methods in the </a><span class="cv_-_computer_voice">gw.web.financials.AccountCurrencyInitializer</span> class determine the currency. </div>
      <div class="B_-_Body"><a name="1123438">The </a><span class="cv_-_computer_voice">AccountCurrencyInputSet</span> PCF file displays the account’s settlement currency.</div>
      <div class="B_-_Body"><a name="1123439">The </a><span class="cv_-_computer_voice">AccountFile_Claims</span> and <span class="cv_-_computer_voice">SubmissionManager</span> PCF files use the settlement currency to determine the currency on the <span class="ui_-_UI_element">Account File Claims</span> and <span class="ui_-_UI_element">Submission Manager</span> screens. These files use the settlement currency for computing and displaying the <span class="ui_-_UI_element">Total Incurred</span> and <span class="ui_-_UI_element">Total Cost</span> fields, respectively.</div>
      <h4 class="H2_-_Heading_2"><a name="1123440">Settlement Currency in Policy Periods</a></h4>
      <div class="B_-_Body"><a name="1123441">Policy periods have a preferred settlement currency. The preferred settlement currency is in the </a><span class="cv_-_computer_voice">PolicyPeriod.PreferredSettlementCurrency</span> property. PolicyCenter initializes this field when initializing the policy term. You can modify the initialization by overriding the <span class="cv_-_computer_voice">initializeCurrencies</span> method in the <span class="cv_-_computer_voice">PolicyPeriodPlugin</span> plugin interface.</div>
      <div class="B_-_Body"><a name="1123442">The </a><span class="cv_-_computer_voice">lookupDefaultPreferredSettlementCurrency</span> method in the <span class="cv_-_computer_voice">gw.job.PCPolicyCurrencyUtil</span> class returns the default preferred settlement currency for the specified policy period.</div>
      <div class="B_-_Body"><a name="1123443">When you create a policy in the user interface, you set the policy period’s settlement currency (</a><span class="ui_-_UI_element">Preferred Currency</span> → <span class="ui_-_UI_element">Settlement</span>) on the <span class="ui_-_UI_element">Policy Info</span> screen.</div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>