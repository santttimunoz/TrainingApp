<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Configuring New Parameters in Parameter Sets</title>
    <link rel="StyleSheet" href="css/ratingmgmt_config.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>PolicyCenter Configuration Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="p-PolicyCenter.html#1159150">Guidewire PolicyCenter Configuration</a> : <a class="WebWorks_Breadcrumb_Link" href="ratingmgmt_config.52.01.html#1159150">Configuring Rating Management</a> : Configuring New Parameters in Parameter Sets</span></div>
    <hr align="left" />
    <blockquote>
      <h3 class="H1_-_Heading_1"><a name="1159150">Configuring New Parameters in Parameter Sets</a></h3>
      <div class="B_-_Body"><a name="1092865">This topic describes how to create a new parameter and make the parameter available for inclusion in a parameter set. The new parameter is available in PolicyCenter, and you can insert the new parameter in rate routine steps. For example, in </a><span class="ui_-_UI_element">Administration</span> → <span class="ui_-_UI_element">Rating</span> → <span class="ui_-_UI_element">Parameter Sets</span>, select a parameter set. In the <span class="ui_-_UI_element">Parameters</span> panel, click <span class="ui_-_UI_element">Edit</span>. To add a new parameter, click <span class="ui_-_UI_element">Add</span>. In the <span class="ui_-_UI_element">Name</span> column, drop-down list contains the list of parameters. This topic describes how to add a parameter to the list.</div>
      <div class="B_-_Body"><a name="1291867">In PolicyCenter, parameter sets are associated with rate routines and rate table definitions. In addition, you must add the parameter to the rating engine code so that the parameter can be used in rating.</a></div>
      <div class="B_-_Body"><a name="1156681">To configure a parameter:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="ri_-_run_in_header"><a name="1157022">In the PolicyCenter user interface, create the parameter for inclusion in a parameter set.</a></span> Define the parameter and specify a default type, such as <span class="cv_-_computer_voice">entity.PersonalVehicle</span> for a personal vehicle entity. Then you can include the parameter in a parameter set. In the parameter set, you can override the parameter’s default type. Each rate routine that uses that parameter set can access that parameter in the rate routine steps. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LP_-_List_Para"><a name="1169631">For instructions, see </a><a href="javascript:WWHClickedPopup('config', 'ratingmgmt_config.52.11.html#1213093', '');" title="Configuring New Parameters in Parameter Sets">“Creating a New Parameter for Inclusion in Parameter Sets”</a>.</div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="ri_-_run_in_header"><a name="1157025">In Studio, modify the rating engine so that it rates the object or entity instance that the parameter specifies.</a></span> For each rate routine that includes the parameter set, add a mapping from the parameter to an object type. The object type could be the primary vehicle on a personal auto policy. When the rating engine executes the rate routine, the parameter is used to reference the actual run-time instance or value. The run-time instance could be the primary vehicle on Solomon’s personal auto policy. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LP_-_List_Para"><a name="1169711">For instructions, see </a><a href="javascript:WWHClickedPopup('config', 'ratingmgmt_config.52.11.html#1152106', '');" title="Configuring New Parameters in Parameter Sets">“Adding a New Parameter to the Rating Engine”</a>.</div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="ri_-_run_in_header"><a name="1563549">If the parameter uses a wrapper, create the wrapper code.</a></span> </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LP_-_List_Para"><a name="1563623">For instructions, see </a><a href="javascript:WWHClickedPopup('config', 'ratingmgmt_config.52.11.html#1563657', '');" title="Configuring New Parameters in Parameter Sets">“Configuring New Wrappers for Parameter Sets”</a>.</div>
      <div class="B_-_Body"><a name="1157406">The parameter definitions must meet the following criteria: </a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="ri_-_run_in_header"><a name="1158063">Parameter types must be compatible.</a></span> In the parameter set, the parameter’s type must be compatible with the Gosu object that the rating engine passes to the method that executes the rate routine. If the user overrides the parameter’s default type in the parameter set, the override takes precedence. The rating engine must pass an object that is the same type or a subtype of the parameter type. PolicyCenter throws an exception if the rating engine passes in an object that is not compatible with the parameter associated with the executing rate routine.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="ri_-_run_in_header"><a name="1158069">In the rating engine, the parameter map must be a superset of the rate routine parameters.</a></span> When the rating engine executes a rate routine, one of the arguments is a map of the rate routine’s parameters. In the rate routine parameter map, each parameter is mapped to an object or entity instance, such as a vehicle on Solomon’s policy. The rate routine parameter map must contain all of the names in the parameter set defined in PolicyCenter for the rate routine being executed. The parameter set may contain the names of additional parameters. The rating engine throws an exception if it executes a rate routine and the parameter map is missing any parameters in the parameter set.</div>
            </td>
          </tr>
        </table>
      </div>
      <h6 class="HS_-_Head_Sub"><a name="1159428">See also</a></h6>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('config', 'ratingmgmt_config.52.11.html#1152106', '');" title="Configuring New Parameters in Parameter Sets" name="1159432">Adding a New Parameter to the Rating Engine</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('app', 'rate_table_ui.56.34.html#1099697', '');" title="Working with Parameter Sets" name="1168289">“Adding, Changing, or Removing Parameters from a Parameter Set” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('app', 'rate_table_ui.56.34.html#1099697', '');" title="Working with Parameter Sets">Application Guide</a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('app', 'rate_table.55.06.html#1104604', '');" title="Parameter Sets" name="1189498">“Parameter Sets” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('app', 'rate_table.55.06.html#1104604', '');" title="Parameter Sets">Application Guide</a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('app', 'rate_table_ui.56.28.html#1298073', '');" title="Instruction and Operand Types" name="1357296">“Filtering Parameter Set Fields of the Same Type When Entering Parameters in a Rate Routine” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('app', 'rate_table_ui.56.28.html#1298073', '');" title="Instruction and Operand Types">Application Guide</a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="1213093">Creating a New Parameter for Inclusion in Parameter Sets</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="1153653">These instructions describe how to create a new parameter for inclusion in parameter sets and accessible in rate routines in the PolicyCenter user interface. To create a new parameter, you must complete the following instructions:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('config', 'ratingmgmt_config.52.11.html#1188231', '');" title="Configuring New Parameters in Parameter Sets" name="1099138">To add the parameter to the parameter name typelist for rate routines</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('config', 'ratingmgmt_config.52.11.html#1141710', '');" title="Configuring New Parameters in Parameter Sets" name="1117996">To enter the default type for the parameter</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('config', 'ratingmgmt_config.52.11.html#1141532', '');" title="Configuring New Parameters in Parameter Sets" name="1188229">To include the parameter in a parameter set in PolicyCenter</a></div>
            </td>
          </tr>
        </table>
      </div>
      <h6 class="HS_-_Head_Sub"><a name="1188231">To add the parameter to the parameter name typelist for rate routines</a></h6>
      <div class="B_-_Body"><a name="1188232">Create a new typekey for the parameter. In a parameter set, the parameter </a><span class="ui_-_UI_element">Name</span> appears in the <span class="ui_-_UI_element">Name</span> column on the <span class="ui_-_UI_element">Parameter Sets → Parameters</span> tab in PolicyCenter.</div>
      <div class="LS_-_List_Start_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LS_-_List_Start_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	1.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LS_-_List_Start_inner"><a name="1117875">In Studio, navigate to </a><span class="ui_-_UI_element">configuration</span> → <span class="ui_-_UI_element">config</span> → <span class="ui_-_UI_element">Metadata</span> → <span class="ui_-_UI_element">Typelist</span> and open <span class="cv_-_computer_voice">CalcRoutineParamName.tti</span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	2.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="1098941">Click typelist at the top of the </a><span class="ui_-_UI_element">Element</span> hierarchy.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	3.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="1391122">Click the drop-down list next to <img class="Default" src="images/add2.png" style="display: inline; float: none; left: 0.0; top: 0.0" alt="" /> and choose </a><span class="ui_-_UI_element">typecode</span>. This adds a typecode for the new parameter to this typelist. For example, you can add a <span class="cv_-_computer_voice">PATest</span> parameter defined as follows:</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="T_-_Table"><a name="1154133">&nbsp;</a></div>
      <table class="withHeadingIndent" style="text-align: left" border="0" cellpadding="10" cellspacing="0" summary="">
        <caption></caption>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: bottom">
            <div class="TH_-_Table_Heading"><a name="1154174">code</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: bottom">
            <div class="TH_-_Table_Heading"><a name="1154176">name</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: bottom">
            <div class="TH_-_Table_Heading"><a name="1154189">desc</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top">
            <div class="TT_-_Table_Text"><span class="cvt_-_computer_voice_table"><a name="1154139">patest</a></span> </div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top">
            <div class="TT_-_Table_Text"><span class="cvt_-_computer_voice_table"><a name="1154141">PATest</a></span> </div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top">
            <div class="TT_-_Table_Text"><span class="cvt_-_computer_voice_table"><a name="1154191">Personal Auto Test</a></span> </div>
          </td>
        </tr>
      </table>
      <h6 class="HS_-_Head_Sub"><a name="1141710">To enter the default type for the parameter</a></h6>
      <div class="B_-_Body"><a name="1153941">Enter the default type which appears in the </a><span class="ui_-_UI_element">Type</span> column on the <span class="ui_-_UI_element">Rating → Parameter Sets → Parameters</span> tab in PolicyCenter. If you do not specify a default type, the <span class="ui_-_UI_element">Type</span> column is blank.</div>
      <div class="LS_-_List_Start_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LS_-_List_Start_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	1.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LS_-_List_Start_inner"><a name="1141552">In Studio, open </a><span class="cv_-_computer_voice">RatingParameterSetScreenHelper.gs</span> in the <span class="cv_-_computer_voice">gw.pcf.rating.flow</span> package.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	2.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="1141553">In the </a><span class="cv_-_computer_voice">mapFromCodeToType</span> static variable, enter a mapping for the code of the new parameter. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LP_-_List_Para"><a name="1154592">Enter the code in capital letters prefixed by </a><span class="cv_-_computer_voice">CalcRoutineParamName.TC_</span>. Enter the default type as the fully qualified object type. For example:</div>
      <div class="CS_-_Code_Single_Line"><a name="1154679">CalcRoutineParamName.TC_PATEST -&gt; "entity.PersonalAutoLine"</a></div>
      <h6 class="HS_-_Head_Sub"><a name="1141532">To include the parameter in a parameter set in PolicyCenter</a></h6>
      <div class="B_-_Body"><a name="1154011">In the PolicyCenter user interface, include the parameter in one or more parameter sets. When you add the parameter, you can override the default type. Keep in mind that the object the rating engine passes must be compatible with the type of object that rate routine expects. For instructions and more information, see </a><a href="javascript:WWHClickedPopup('app', 'rate_table_ui.56.34.html#1099697', '');" title="Working with Parameter Sets">“Adding, Changing, or Removing Parameters from a Parameter Set” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('app', 'rate_table_ui.56.34.html#1099697', '');" title="Working with Parameter Sets">Application Guide</a></span>.</div>
      <h4 class="H2_-_Heading_2"><a name="1152106">Adding a New Parameter to the Rating Engine</a></h4>
      <div class="B_-_Body"><a name="1265593">These instructions describe how to add a new parameter to the rating engine. When the rating engine runs a rate routine, the rating engine maps each parameter to an object or entity instance. The map is of type </a><span class="cv_-_computer_voice">java.util.Map</span>. The rating engine uses this map to pass run-time objects and entity instances to the method that executes the rate routine. This object or entity instance must be compatible with the type specified in the parameter set associated with the rate routine being executed. A compatible type is the same type or a subtype. If the object or entity instance is not compatible, then PolicyCenter throws an exception.</div>
      <div class="N_-_Note">
        <span class="n_-_note">Note: </span><a name="1265583">For instructions on how to add a new parameter for use in PolicyCenter, see </a><a href="javascript:WWHClickedPopup('config', 'ratingmgmt_config.52.11.html#1159150', '');" title="Configuring New Parameters in Parameter Sets">“Configuring New Parameters in Parameter Sets”</a>.</div>
      <div class="B_-_Body"><a name="1155585">In these steps, you include the new parameter in Gosu code that executes each rate routine associated with this parameter set.</a></div>
      <div class="B_-_Body"><a name="1155586">The rating engine code executes each rate routine by calling the </a><span class="cv_-_computer_voice">RateBook.executeCalcRoutine</span> method. One of the parameters to this method is a map of parameters that the rate routine uses. This map must be a superset of the parameter set in PolicyCenter. By definition, a superset contains at least all of a set. </div>
      <h6 class="HS_-_Head_Sub"><a name="1155372">To include the parameter in the rating engine code</a></h6>
      <div class="B_-_Body"><a name="1152614">For each rate routine associated with the new parameter’s parameter set, you must add the new parameter to the map. The parameter map is in the rating engine class in Studio.</a></div>
      <div class="LS_-_List_Start_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LS_-_List_Start_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	1.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LS_-_List_Start_inner"><a name="1142206">In Studio, open the rating engine class for the line of business that uses this parameter. For example, open </a><span class="cv_-_computer_voice">PARatingEngine.gs</span> if this parameter is for the personal auto line. The <span class="cv_-_computer_voice">PARatingEngine</span> class is in the <span class="cv_-_computer_voice">gw.lob.pa.rating</span> package.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	2.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="1142472">Modify the </a><span class="cv_-_computer_voice">executeCalcRoutine</span> method call for each rate routine associated with a parameter set that includes this parameter. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LP_-_List_Para"><a name="1153292">The following steps assume that you added a parameter to the </a><span class="ui_-_UI_element">PIP NJ Parameter Set</span> parameter set. The rate routine with the <span class="cv_-_computer_voice">pa_pip_nj_basic_rr</span> code uses this parameter set. </div>
      <div class="LP_-_List_Para"><a name="1153287">The code that executes this rate routine is:</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="1152782">RateBook.executeCalcRoutine("pa_pip_nj_basic_rr", </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1169846">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:costData = data, </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1169944">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:worksheetContainer = data, </a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="1169912">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rateRoutineParameterMap)</a></PRE>
      <div class="LP_-_List_Para"><a name="1152803">The </a><span class="cv_-_computer_voice">rateRoutineParameterMap</span> argument is a map defined as:</div>
      <PRE class="CF_-_Code_First_Line"><a name="1152978">var rateRoutineParameterMap : Map&lt;CalcRoutineParamName, Object&gt; =</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1152979">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{TC_POLICYLINE -&gt;_line,</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1152980">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TC_VEHICLE    -&gt;vehicle,</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="1152974">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TC_PAPIPNJ    -&gt;cov}</a></PRE>
      <div class="LP_-_List_Para"><a name="1153123">In the map, the </a><span class="cv_-_computer_voice">Object</span> must be compatible with the type for the parameter set being used by the executing rate routine. You specify the type in the <span class="ui_-_UI_element">Type</span> column on the <span class="ui_-_UI_element">Parameter Sets → Parameters</span> tab in the PolicyCenter user interface.</div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	3.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="1152780">In the </a><span class="cv_-_computer_voice">rateRoutineParameterMap</span> variable, add a map entry for your new parameter.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	4.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="1153514">Start or restart PolicyCenter to view your changes.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <h4 class="H2_-_Heading_2"><a name="1563657">Configuring New Wrappers for Parameter Sets</a></h4>
      <div class="B_-_Body"><a name="1563662">You may have parameters sets that are essentially the same, but each line of business uses a different coverage, for example. Using </a><span class="e_-_emphasis">wrappers</span>, you can combine these parameters sets into one parameter set that uses a wrapper to select the coverage by line of business. </div>
      <div class="B_-_Body"><a name="1563663">The wrapper calls Gosu code that selects a coverage based upon characteristic of the policy. You must first create the wrapper before you use it in a parameter set. </a></div>
      <div class="B_-_Body"><a name="1563664">In Studio, create a new Gosu class the implements </a><span class="cv_-_computer_voice">gw.rating.flow.CoverageWrapper</span>. For an example, see <span class="cv_-_computer_voice">CPCoverageWrapper.gs</span> in the <span class="cv_-_computer_voice">gw.lob.cp.rating</span> package.</div>
      <h6 class="HS_-_Head_Sub"><a name="1563704">See also</a></h6>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('app', 'rate_table.55.06.html#1442986', '');" title="Parameter Sets" name="1563717">“Combine Similar Parameter Sets with Wrappers” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('app', 'rate_table.55.06.html#1442986', '');" title="Parameter Sets">Application Guide</a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="1563665">Example with Wrappers</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="1563666">In the base configuration, the </a><span class="ui_-_UI_element">CP Coverage Parameter Set With Wrapped Coverages</span> parameter set (<span class="cv_-_computer_voice">CPCoverageWrapperParamSet</span>) uses a wrapper. The <span class="ui_-_UI_element">Coverage</span> parameter uses the wrapper <span class="cv_-_computer_voice">gw.lob.cp.rating.CPCoverageWrapper</span> to select either the <span class="uis_-_UI_element_Studio">Business Personal Property Coverage</span> (<span class="cv_-_computer_voice">CPBPPCov</span>) or the <span class="uis_-_UI_element_Studio">Building Coverage</span> (<span class="cv_-_computer_voice">CPBldgCov</span>). In Product Designer, you can view these coverages in the <span class="uis_-_UI_element_Studio">Commercial Property Line</span>.</div>
      <div class="B_-_Body"><a name="1563667">The </a><span class="ui_-_UI_element">CP Coverage Premium Algorithm</span> rate routine (<span class="cv_-_computer_voice">cp_cov_premium_rr</span>) uses the <span class="ui_-_UI_element">CP Coverage Parameter Set With Wrapped Coverages</span> parameter set. In this rate routine, the <span class="cv_-_computer_voice">Basis</span> is assigned the value of <span class="cv_-_computer_voice">Coverage.Limit</span>. The wrapper calculates the value of the limit based upon whether the coverage is <span class="ui_-_UI_element">Business Personal Property Coverage</span> or <span class="ui_-_UI_element">Building Coverage</span>.</div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>