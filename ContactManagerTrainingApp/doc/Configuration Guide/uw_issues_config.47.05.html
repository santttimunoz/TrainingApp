<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Creating Underwriting Issues</title>
    <link rel="StyleSheet" href="css/uw_issues_config.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>PolicyCenter Configuration Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="p-PolicyCenter.html#1184675">Guidewire PolicyCenter Configuration</a> : <a class="WebWorks_Breadcrumb_Link" href="uw_issues_config.47.01.html#1184675">Configuring Underwriting Authority</a> : <a class="WebWorks_Breadcrumb_Link" href="uw_issues_config.47.03.html#1184675">Implementing Underwriting Authority</a> : Creating Underwriting Issues</span></div>
    <hr align="left" />
    <blockquote>
      <h4 class="H2B_-_Heading_2_Break"><a name="1184675">Creating Underwriting Issues</a></h4>
      <div class="B_-_Body"><a name="1184636">This topic describes how to write the code that creates underwriting issues. </a></div>
      <div class="B_-_Body"><a name="1293171">The </a><span class="cv_-_computer_voice">IPolicyEvaluationPlugin</span> is the starting point for evaluating whether to create an underwriting issue. In the base configuration, the <span class="cv_-_computer_voice">IPolicyEvaluationPlugin</span> interface is implemented by the <span class="cv_-_computer_voice">PolicyEvalPlugin</span> plugin. This plugin creates a <span class="cv_-_computer_voice">PolicyEvalContext</span> object and then evaluates (<span class="cv_-_computer_voice">evaluator.evaluate</span> method) whether to raise issues for the current checking set and policy lines associated with the policy period. </div>
      <div class="B_-_Body"><a name="1293162">The plugin uses a default class (</a><span class="cv_-_computer_voice">DefaultUnderwriterEvaluator.gs</span>) and line-of-business-specific classes (<span class="cv_-_computer_voice">PA_UnderwriterEvaluator.gs</span> for example) to determine whether or not to raise underwriting issues. </div>
      <div class="B_-_Body"><a name="1190044">When you evaluate each checking set, your implementation must raise issues and refresh existing issues with current values. Your implementation must also remove orphaned issues. Guidewire recommends that your implementation use the </a><span class="cv_-_computer_voice">PolicyEvalContext</span> class to create and remove orphaned issues because these are complex and error-prone tasks.</div>
      <div class="B_-_Body"><a name="1190033">This topic provides instructions for creating underwriting issues.</a></div>
      <h6 class="HS_-_Head_Sub"><a name="1294453">See also</a></h6>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('integration', 'plugins-policy.13.14.html#2399688', '');" title="Policy Evaluation Plugin" name="1294457">“Policy Evaluation Plugin” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('integration', 'plugins-policy.13.14.html#2399688', '');" title="Policy Evaluation Plugin">Integration Guide</a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <h6 class="HS_-_Head_Sub"><a name="1184720">To create underwriting issues</a></h6>
      <div class="LS_-_List_Start_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LS_-_List_Start_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	1.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LS_-_List_Start_inner"><a name="1184738">To raise underwriting issues for all lines of business, modify the default evaluator class, </a><span class="cv_-_computer_voice">gw.lob.common.DefaultUnderwriterEvaluator.gs</span>. To raise underwriting issues for a particular line of business, modify the evaluator class for that line of business, <span class="cv_-_computer_voice">gw.lob.pa.PA_UnderwriterEvaluator.gs</span>, for example.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	2.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="1185261">Find the appropriate method for the checking set. For example, to raise underwriting issues for the Renewal checking set, add code in the </a><span class="cv_-_computer_voice">onRenewal</span> method of the evaluator class. You can view and modify the correspondence between checking set and method in the <span class="cv_-_computer_voice">AbstractUnderwriterEvaluator</span> class.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	3.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="1184842">Use the </a><span class="cv_-_computer_voice">PolicyEvalContext.addIssue</span> method to add underwriting issues. To raise underwriting issues, you need to write Gosu code which examines the <span class="cv_-_computer_voice">PolicyPeriod</span> and determines whether to raise one or more issues of this type. For example, the code may raise multiple issues if the <span class="cv_-_computer_voice">PolicyPeriod</span> entity contains multiple items of the same type, such as cars or buildings.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	4.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="1184797">Use the </a><span class="cv_-_computer_voice">PolicyEvalContext.removeOrphanedIssues</span> method to remove orphaned underwriting issues. The <span class="cv_-_computer_voice">removeOrphanedIssues</span> method is called in the <span class="cv_-_computer_voice">PolicyEvalContext</span> plugin.</div>
            </td>
          </tr>
        </table>
      </div>
      <h6 class="HS_-_Head_Sub"><a name="1294399">To raise an underwriting issue</a></h6>
      <div class="LS_-_List_Start_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LS_-_List_Start_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	1.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LS_-_List_Start_inner"><a name="1294400">Add an </a><span class="cv_-_computer_voice">addIssue</span> method (using one the available method signatures). For example:</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="CS_-_Code_Single_Line"><a name="1294401">addIssue( issueType, key, shortDescriptionBlock, longDescriptionBlock, value)</a></div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	2.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="1294402">Provide values for </a><span class="cv_-_computer_voice">issueType</span> and <span class="cv_-_computer_voice">key</span>:</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="T_-_Table"><a name="1294415">&nbsp;</a></div>
      <table class="withHeadingIndent" style="text-align: left" border="0" cellpadding="10" cellspacing="0" summary="">
        <caption></caption>
        <tr>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline"><span class="cvt_-_computer_voice_table"><a name="1294405">issueType</a></span></div>
          </td>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="1294410">Code of the issue type, use a value from </a><span class="cvt_-_computer_voice_table">UWIssueType</span> system table</div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline"><span class="cvt_-_computer_voice_table"><a name="1294412">key</a></span></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top">
            <div class="TT_-_Table_Text"><span class="cvt_-_computer_voice_table"><a name="1294414">IssueKey</a></span> for the <span class="cvt_-_computer_voice_table">UWIssue</span></div>
          </td>
        </tr>
      </table>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	3.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="1294416">Provide a block for the </a><span class="cv_-_computer_voice">shortDescription</span> and <span class="cv_-_computer_voice">longDescription</span> parameters (one each). This allows the method to localize the description text for all available locales. (PolicyCenter performs the localization as it evaluates the display key.) Use this format:</div>
            </td>
          </tr>
        </table>
      </div>
      <PRE class="CF_-_Code_First_Line"><a name="1294417">shortDescriptionBlock = \ -&gt; shortDescriptionDisplayKey</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="1294418">longDescriptionBlock &nbsp;= \ -&gt; longDescriptionDisplayKey</a></PRE>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	4.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="1294419">Enter the </a><span class="cv_-_computer_voice">value</span>, which is the value that PolicyCenter checks to determine whether to raise the issue.</div>
            </td>
          </tr>
        </table>
      </div>
      <h6 class="HS_-_Head_Sub"><a name="1294420">Example</a></h6>
      <div class="B_-_Body"><a name="1294422">The following code is an example of how to create an </a><span class="cv_-_computer_voice">addIssue</span> method:</div>
      <PRE class="CF_-_Code_First_Line"><a name="1294423">policyEvalContext.addIssue("PANumberOfVehicles", "PANumberOfVehicles",</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1294424">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\ -&gt; displaykey.UWIssue.PersonalAuto.TooManyVehicles.ShortDesc,</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1294425">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\ -&gt; displaykey.UWIssue.PersonalAuto.TooManyVehicles.LongDesc(numberOfVehicles),</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="1294426">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;numberOfVehicles)</a></PRE>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>